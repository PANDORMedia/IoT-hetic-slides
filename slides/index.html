<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IoT ‚Äî Arduino IDE ‚Äî ESP32 | Formation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-dark: #0a0e14;
      --bg-card: #111820;
      --bg-code: #0d1117;
      --accent-cyan: #00fff2;
      --accent-green: #39ff14;
      --accent-orange: #ff6b35;
      --accent-purple: #bf5af2;
      --accent-blue: #007aff;
      --text-primary: #e6edf3;
      --text-secondary: #8b949e;
      --text-dim: #484f58;
      --border-color: #1c2936;
      --circuit-color: #1a2332;
      --glow-cyan: 0 0 20px rgba(0, 255, 242, 0.5);
      --glow-green: 0 0 20px rgba(57, 255, 20, 0.5);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      font-family: 'Rajdhani', sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      line-height: 1.6;
    }

    /* Circuit board background pattern */
    .circuit-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      background:
        linear-gradient(90deg, var(--circuit-color) 1px, transparent 1px) 0 0 / 50px 50px,
        linear-gradient(var(--circuit-color) 1px, transparent 1px) 0 0 / 50px 50px,
        radial-gradient(circle at 25px 25px, var(--circuit-color) 2px, transparent 2px) 0 0 / 50px 50px;
      opacity: 0.4;
    }

    .circuit-traces {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
    }

    .circuit-traces::before {
      content: '';
      position: absolute;
      top: 20%;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent);
      opacity: 0.1;
      animation: trace-pulse 4s ease-in-out infinite;
    }

    .circuit-traces::after {
      content: '';
      position: absolute;
      top: 0;
      left: 30%;
      width: 2px;
      height: 100%;
      background: linear-gradient(180deg, transparent, var(--accent-green), transparent);
      opacity: 0.1;
      animation: trace-pulse 5s ease-in-out infinite 1s;
    }

    @keyframes trace-pulse {
      0%, 100% { opacity: 0.05; }
      50% { opacity: 0.2; }
    }

    /* Header / Navigation */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: linear-gradient(180deg, var(--bg-dark) 0%, transparent 100%);
      padding: 1rem 2rem;
    }

    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1400px;
      margin: 0 auto;
    }

    .logo {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: 1.2rem;
      color: var(--accent-cyan);
      text-shadow: var(--glow-cyan);
      letter-spacing: 2px;
    }

    .logo span {
      color: var(--text-dim);
      font-weight: 400;
    }

    .day-nav {
      display: flex;
      gap: 0.5rem;
    }

    .day-btn {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.85rem;
      font-weight: 700;
      padding: 0.6rem 1.5rem;
      background: transparent;
      border: 2px solid var(--border-color);
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      letter-spacing: 1px;
    }

    .day-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .day-btn:hover {
      border-color: var(--accent-cyan);
      color: var(--text-primary);
    }

    .day-btn.active {
      border-color: var(--accent-cyan);
      color: var(--bg-dark);
      background: var(--accent-cyan);
      text-shadow: none;
    }

    .nav-controls {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .control-btn {
      background: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      padding: 0.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
    }

    .control-btn.label {
      width: auto;
      min-width: 44px;
      padding: 0.45rem 0.8rem;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.7rem;
      letter-spacing: 1px;
    }

    .control-btn:hover {
      border-color: var(--accent-cyan);
      color: var(--accent-cyan);
    }

    .control-btn.active {
      background: var(--accent-cyan);
      border-color: var(--accent-cyan);
      color: var(--bg-dark);
    }

    .control-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .control-btn svg {
      width: 20px;
      height: 20px;
    }

    /* Main content area */
    main {
      height: 100vh;
      display: flex;
      flex-direction: column;
      padding-top: 80px;
    }

    /* Slide container */
    .slides-wrapper {
      flex: 1;
      position: relative;
      overflow: hidden;
    }

    .slide {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 3rem 6rem;
      opacity: 0;
      transform: translateX(100px);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    .slide.active {
      opacity: 1;
      transform: translateX(0);
      pointer-events: auto;
    }

    .slide.prev {
      transform: translateX(-100px);
    }

    .slide-content {
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    /* Slide number badge - hidden */
    .slide-number {
      display: none;
    }

    /* Typography */
    .slide-title {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2.5rem, 6vw, 4.5rem);
      font-weight: 900;
      line-height: 1.1;
      margin-bottom: 2rem;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-cyan) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .slide-title.title-hero {
      font-size: clamp(3rem, 7vw, 5.5rem);
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .slide-title.title-plan {
      font-size: clamp(3.5rem, 8vw, 6rem);
      text-align: center;
      margin-bottom: 3rem;
    }

    .slide-subtitle {
      font-family: 'Rajdhani', sans-serif;
      font-size: 1.8rem;
      font-weight: 300;
      color: var(--text-secondary);
      margin-bottom: 2rem;
    }

    h3 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--accent-orange);
      margin: 2rem 0 1rem;
      letter-spacing: 1px;
    }

    /* Lists */
    ul, ol {
      list-style: none;
      margin: 1.5rem 0;
    }

    li {
      position: relative;
      padding-left: 2.5rem;
      margin-bottom: 1rem;
      font-size: 1.6rem;
      font-weight: 400;
    }

    li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0.6em;
      width: 8px;
      height: 8px;
      background: var(--accent-cyan);
      box-shadow: var(--glow-cyan);
    }

    ol {
      counter-reset: item;
    }

    ol li::before {
      content: counter(item);
      counter-increment: item;
      background: transparent;
      color: var(--accent-cyan);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      font-weight: 600;
      width: auto;
      height: auto;
      top: 0;
      box-shadow: none;
    }

    /* Code blocks */
    pre {
      background: var(--bg-code);
      border: 1px solid var(--border-color);
      border-left: 3px solid var(--accent-green);
      padding: 1.5rem;
      margin: 1.5rem 0;
      overflow-x: auto;
      position: relative;
    }

    pre::before {
      content: 'CODE';
      position: absolute;
      top: 0;
      right: 0;
      background: var(--accent-green);
      color: var(--bg-dark);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      font-weight: 600;
      padding: 0.25rem 0.75rem;
      letter-spacing: 1px;
    }

    code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      line-height: 1.7;
    }

    /* Inline code */
    p code, li code {
      background: rgba(0, 255, 242, 0.1);
      color: var(--accent-cyan);
      padding: 0.2rem 0.6rem;
      font-size: 0.95em;
    }

    /* Syntax highlighting */
    .keyword { color: var(--accent-purple); }
    .type { color: var(--accent-cyan); }
    .function { color: var(--accent-orange); }
    .string { color: var(--accent-green); }
    .number { color: #ff7b72; }
    .comment { color: var(--text-dim); font-style: italic; }

    /* Cards / boxes */
    .info-box {
      background: rgba(0, 255, 242, 0.05);
      border: 1px solid rgba(0, 255, 242, 0.2);
      padding: 1.5rem;
      margin: 1.5rem 0;
      position: relative;
    }

    .info-box.warning {
      background: rgba(255, 107, 53, 0.05);
      border-color: rgba(255, 107, 53, 0.3);
    }

    .info-box.success {
      background: rgba(57, 255, 20, 0.05);
      border-color: rgba(57, 255, 20, 0.3);
    }

    .info-box-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      font-weight: 700;
      color: var(--accent-cyan);
      letter-spacing: 2px;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .info-box p, .info-box li {
      font-size: 1.4rem;
    }

    .info-box.warning .info-box-title { color: var(--accent-orange); }
    .info-box.success .info-box-title { color: var(--accent-green); }

    /* Grid layouts */
    .two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: start;
    }

    .two-col p {
      font-size: 1.5rem;
    }

    .three-col {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }

    /* General paragraph */
    .slide-content > p {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    /* Image styling */
    .slide-image {
      width: 100%;
      height: auto;
      border: 1px solid var(--border-color);
      margin: 1rem 0;
    }

    .slide-image-container {
      position: relative;
    }

    .image-credit {
      font-size: 0.7rem;
      color: var(--text-dim);
      text-align: right;
      margin-top: 0.25rem;
    }

    .image-credit a {
      color: var(--text-dim);
      text-decoration: underline;
    }

    /* Hero slide specific */
    .hero-slide {
      text-align: center;
    }

    .hero-slide .author {
      font-size: 1.8rem;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    .hero-slide .linkedin {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--accent-blue);
    }

    .hero-slide .linkedin a {
      color: inherit;
      text-decoration: none;
    }

    .hero-slide .linkedin a:hover {
      text-decoration: underline;
    }

    /* Timeline styling */
    .timeline-item {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.2rem;
      align-items: flex-start;
    }

    .timeline-year {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--accent-cyan);
      min-width: 70px;
      text-shadow: var(--glow-cyan);
    }

    .timeline-content {
      flex: 1;
      padding-left: 1rem;
      border-left: 2px solid var(--border-color);
      font-size: 1.2rem;
    }

    /* Check list */
    .checklist li::before {
      content: '‚úì';
      background: transparent;
      color: var(--accent-green);
      font-size: 1rem;
      width: auto;
      height: auto;
      top: 0;
      box-shadow: none;
    }

    /* Speaker notes */
    .speaker-notes {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(180deg, transparent, var(--bg-dark) 20%);
      padding: 2rem 6rem;
      transform: translateY(100%);
      transition: transform 0.4s ease;
      z-index: 50;
    }

    .speaker-notes.visible {
      transform: translateY(0);
    }

    .speaker-notes-content {
      max-width: 1200px;
      margin: 0 auto;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      padding: 1.5rem;
    }

    .speaker-notes-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--accent-orange);
      letter-spacing: 2px;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .speaker-notes-text {
      font-size: 1rem;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* TP panel */
    .tp-panel {
      position: fixed;
      top: 80px;
      right: 0;
      bottom: 0;
      width: min(520px, 92vw);
      background: var(--bg-dark);
      border-left: 1px solid var(--border-color);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 80;
    }

    .tp-panel.visible {
      transform: translateX(0);
    }

    .tp-panel-content {
      height: 100%;
      display: flex;
      flex-direction: column;
      padding: 1.5rem;
    }

    .tp-panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--accent-cyan);
      letter-spacing: 1px;
    }

    .tp-panel-actions {
      display: flex;
      gap: 0.75rem;
      font-size: 0.7rem;
    }

    .tp-panel-actions a {
      color: var(--text-secondary);
      text-decoration: none;
      border-bottom: 1px solid transparent;
    }

    .tp-panel-actions a:hover {
      color: var(--accent-cyan);
      border-color: var(--accent-cyan);
    }

    .tp-panel-body {
      overflow-y: auto;
      padding-right: 0.5rem;
    }

    .tp-panel-body h3 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      margin: 1rem 0 0.5rem;
      color: var(--accent-orange);
      letter-spacing: 1px;
    }

    .tp-panel-body h4 {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      margin: 0.75rem 0 0.5rem;
      color: var(--accent-cyan);
    }

    .tp-panel-body p,
    .tp-panel-body li {
      font-size: 1rem;
      color: var(--text-secondary);
    }

    .tp-panel-body li {
      padding-left: 1.5rem;
      margin-bottom: 0.6rem;
    }

    .tp-panel-body li::before {
      width: 6px;
      height: 6px;
      top: 0.55em;
    }

    .tp-panel-body pre {
      font-size: 0.95rem;
    }

    .tp-panel-empty {
      font-size: 1rem;
      color: var(--text-dim);
    }

    /* Progress bar */
    .progress-container {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--border-color);
      z-index: 60;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
      box-shadow: var(--glow-cyan);
      transition: width 0.3s ease;
    }

    /* Navigation arrows */
    .nav-arrows {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      display: flex;
      gap: 0.5rem;
      z-index: 70;
    }

    .nav-arrow {
      width: 50px;
      height: 50px;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-arrow:hover {
      border-color: var(--accent-cyan);
      color: var(--accent-cyan);
      background: rgba(0, 255, 242, 0.1);
    }

    .nav-arrow:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .nav-arrow svg {
      width: 24px;
      height: 24px;
    }

    /* Slide counter */
    .slide-counter {
      position: fixed;
      bottom: 2rem;
      left: 2rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: var(--text-dim);
      z-index: 70;
    }

    .slide-counter .current {
      color: var(--accent-cyan);
      font-size: 1.2rem;
    }

    /* Animations */
    @keyframes fade-up {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .slide.active .slide-number { animation: fade-up 0.5s ease 0.1s both; }
    .slide.active .slide-title { animation: fade-up 0.5s ease 0.2s both; }
    .slide.active .slide-subtitle { animation: fade-up 0.5s ease 0.3s both; }
    .slide.active ul, .slide.active ol, .slide.active p, .slide.active pre, .slide.active .info-box {
      animation: fade-up 0.5s ease 0.4s both;
    }

    /* Glow animation for emphasis */
    @keyframes glow-pulse {
      0%, 100% { box-shadow: 0 0 5px var(--accent-cyan); }
      50% { box-shadow: 0 0 20px var(--accent-cyan), 0 0 40px rgba(0, 255, 242, 0.3); }
    }

    .glow-effect {
      animation: glow-pulse 2s ease-in-out infinite;
    }

    /* Keyboard hint */
    .keyboard-hint {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      color: var(--text-dim);
      z-index: 70;
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .key {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      padding: 0.25rem 0.5rem;
      font-size: 0.7rem;
    }

    /* Slide menu dropdown */
    .slide-menu {
      position: relative;
    }

    .slide-menu-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      min-width: 280px;
      max-height: 400px;
      overflow-y: auto;
      display: none;
      z-index: 200;
    }

    .slide-menu-dropdown.visible {
      display: block;
    }

    .slide-menu-item {
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: background 0.2s ease;
      font-size: 0.9rem;
      border-bottom: 1px solid var(--border-color);
    }

    .slide-menu-item:hover {
      background: rgba(0, 255, 242, 0.1);
    }

    .slide-menu-item.active {
      background: rgba(0, 255, 242, 0.2);
      color: var(--accent-cyan);
    }

    .slide-menu-item .slide-menu-number {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      color: var(--accent-cyan);
      margin-right: 0.75rem;
    }

    /* Info tooltip system */
    .info-term {
      position: relative;
      border-bottom: 1px dashed var(--accent-cyan);
      cursor: help;
    }

    .info-term::after {
      content: '‚ìò';
      font-size: 0.7em;
      margin-left: 0.3rem;
      color: var(--accent-cyan);
      vertical-align: super;
    }

    .info-tooltip {
      position: absolute;
      bottom: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%);
      background: var(--bg-card);
      border: 1px solid var(--accent-cyan);
      padding: 1rem 1.25rem;
      min-width: 280px;
      max-width: 400px;
      font-size: 0.95rem;
      line-height: 1.5;
      color: var(--text-secondary);
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      z-index: 100;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
    }

    .info-tooltip::before {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 8px solid transparent;
      border-top-color: var(--accent-cyan);
    }

    .info-term:hover .info-tooltip,
    .info-term:focus .info-tooltip {
      opacity: 1;
      visibility: visible;
    }

    .info-tooltip-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--accent-cyan);
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .slide {
        padding: 2rem 3rem;
      }

      .two-col {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .three-col {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .slide {
        padding: 1.5rem;
      }

      .nav-container {
        padding: 0.5rem 1rem;
      }

      .keyboard-hint {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="circuit-bg"></div>
  <div class="circuit-traces"></div>

  <header>
    <div class="nav-container">
      <div class="logo">IoT<span>/ESP32</span></div>

      <nav class="day-nav">
        <button class="day-btn active" data-day="1">JOUR 1</button>
        <button class="day-btn" data-day="2">JOUR 2</button>
        <button class="day-btn" data-day="3">J2-ALT</button>
      </nav>

      <div class="nav-controls">
        <div class="slide-menu">
          <button class="control-btn" id="menuBtn" title="Menu des slides">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <div class="slide-menu-dropdown" id="slideMenu"></div>
        </div>
        <button class="control-btn label" id="tpBtn" title="√ânonc√© TP (T)">TP</button>
        <button class="control-btn label" id="assistBtn" title="Mode assistance (A)">AIDE</button>
        <button class="control-btn" id="notesBtn" title="Notes orateur (N)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
          </svg>
        </button>
        <button class="control-btn" id="fullscreenBtn" title="Plein √©cran (F)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 3 21 3 21 9"></polyline>
            <polyline points="9 21 3 21 3 15"></polyline>
            <line x1="21" y1="3" x2="14" y2="10"></line>
            <line x1="3" y1="21" x2="10" y2="14"></line>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main>
    <div class="slides-wrapper" id="slidesWrapper">
      <!-- ==================== JOUR 1 ==================== -->

      <!-- J1.01 - Titre -->
      <div class="slide" data-day="1" data-note="INTRO (5 min) ‚Äî Se pr√©senter bri√®vement. Expliquer : J1 = th√©orie + simulateur Tinkercad, J2 = vrai mat√©riel ESP32. Promesse : 'Avant la pause, vous aurez fait clignoter une LED dans le simulateur'. V√©rifier que tout le monde a un navigateur web.">
        <div class="slide-content hero-slide">
          <span class="slide-number">J1.01</span>
          <h1 class="slide-title title-hero">IoT ‚Äî Jour 1</h1>
          <p class="slide-subtitle" style="text-align: center; margin-top: -1rem;">Du terminal au microcontr√¥leur</p>
          <p class="author">Sion GENDERS</p>
          <p class="linkedin"><a href="https://www.linkedin.com/in/sion-gdrs/" target="_blank">linkedin.com/in/sion-gdrs</a></p>
        </div>
      </div>

      <!-- J1.02 - Plan du jour -->
      <div class="slide" data-day="1" data-note="PLAN (2 min) ‚Äî Annoncer : 1h culture/histoire, puis 2h+ atelier sur Tinkercad. 3 exercices : LED, Bouton, Nightlight. Rassurer : pas besoin de mat√©riel, on simule. Demander si questions sur le d√©roul√©.">
        <div class="slide-content" style="text-align: center;">
          <span class="slide-number">J1.02</span>
          <h1 class="slide-title title-plan">Plan du jour</h1>
          <ol style="display: inline-block; text-align: left;">
            <li>Histoire & d√©finition IoT</li>
            <li>L'IoT avant Internet</li>
            <li>Bases du code Arduino</li>
            <li>D√©couverte Tinkercad</li>
            <li>Premier code : LED + Serial</li>
          </ol>
        </div>
      </div>

      <!-- J1.03 - C'est quoi IoT -->
      <div class="slide" data-day="1" data-note="CONCEPT (5 min) ‚Äî Insister : IoT = petits messages, contraintes (√©nergie, latence, fiabilit√©). IoT ‚â† cloud obligatoire. Exemple concret : capteur de temp√©rature qui envoie 1 octet toutes les 10 min. Demander : 'Qui a d√©j√† vu un objet connect√© chez soi ?'">
        <div class="slide-content">
          <span class="slide-number">J1.03</span>
          <h1 class="slide-title">L'IoT en 4 concepts</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Des <strong>objets</strong> (capteurs / actionneurs)</li>
                <li>Un <strong>lien de communication</strong> (filaire, radio, bus)</li>
                <li>Des <strong>messages</strong> (petits, fr√©quents, robustes)</li>
                <li>Un <strong>usage</strong> (mesurer, agir, superviser, automatiser)</li>
              </ul>
            </div>
            <div class="slide-image-container">
              <img src="https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?w=600&q=80" alt="Circuit board" class="slide-image">
              <p class="image-credit">Photo: <a href="https://unsplash.com/@umbra_media" target="_blank">Umbra Media / Unsplash</a></p>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.04 - Avant Internet -->
      <div class="slide" data-day="1" data-note="HISTOIRE (5 min) ‚Äî Phrase choc : 'Vous pensez Wi-Fi, moi je pense c√¢bles et trames'. Expliquer SCADA = supervision industrielle. Les usines connectent des machines depuis 50 ans. Anecdote : les automates Modbus des ann√©es 70 tournent encore !">
        <div class="slide-content">
          <span class="slide-number">J1.04</span>
          <h1 class="slide-title">Machines connect√©es avant Internet</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>S√©rie (UART/RS-232), bus terrain (ex : Modbus), bus embarqu√©s (ex : CAN)</li>
                <li>Objectif : supervision / commande / diagnostic</li>
                <li>Monde industriel : <strong>automates</strong>, <strong>capteurs</strong>, <strong>actionneurs</strong>, <strong>SCADA</strong></li>
              </ul>
            </div>
            <div class="slide-image-container">
              <img src="https://images.unsplash.com/photo-1581092160607-ee22621dd758?w=600&q=80" alt="Industrial automation" class="slide-image">
              <p class="image-credit">Photo: <a href="https://unsplash.com/@thisisengineering" target="_blank">ThisisEngineering / Unsplash</a></p>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.05 - Parall√®le industrie/informatique -->
      <div class="slide" data-day="1" data-note="PARALL√àLE (3 min) ‚Äî Montrer que IT et industrie ont suivi le m√™me chemin : centralisation ‚Üí distribution ‚Üí r√©seau. Ce cours fait le pont : on prend du hardware simple, du code simple, et on √©change des messages. Transition vers timeline.">
        <div class="slide-content">
          <span class="slide-number">J1.05</span>
          <h1 class="slide-title">Industrie & IT : m√™me √©volution</h1>
          <div class="two-col">
            <div>
              <h3>Informatique</h3>
              <p>mainframes ‚Üí terminaux ‚Üí r√©seaux</p>
            </div>
            <div>
              <h3>Industrie</h3>
              <p>automates ‚Üí bus terrain ‚Üí supervision</p>
            </div>
          </div>
          <div class="info-box" style="margin-top: 2rem;">
            <div class="info-box-title">üí° POINT CL√â</div>
            <p>M√™me logique : <strong>standardiser</strong> les √©changes, rendre le syst√®me <strong>pilotable</strong></p>
          </div>
        </div>
      </div>

      <!-- J1.06 - Timeline compl√®te -->
      <div class="slide" data-day="1" data-note="TIMELINE (5 min) ‚Äî Parcourir rapidement. Fun facts : le distributeur Coca √©tait le 1er 'objet connect√©'. XCoffee = webcam pour surveiller le caf√© ! Punchline : 'Le mot IoT date de 1999, mais l'id√©e a 40 ans'. Transition : assez d'histoire, on code !">
        <div class="slide-content">
          <span class="slide-number">J1.06</span>
          <h1 class="slide-title">Timeline IoT</h1>
          <div class="two-col" style="align-items: start;">
            <div>
              <div class="timeline-item">
                <span class="timeline-year">1960s</span>
                <div class="timeline-content">RS‚Äë232 (terminaux ‚Üî machines)</div>
              </div>
              <div class="timeline-item">
                <span class="timeline-year">1970s</span>
                <div class="timeline-content">Modbus (bus industriel)</div>
              </div>
              <div class="timeline-item">
                <span class="timeline-year">1982</span>
                <div class="timeline-content">Distributeur Coca‚ÄëCola connect√©</div>
              </div>
              <div class="timeline-item">
                <span class="timeline-year">1983</span>
                <div class="timeline-content">Telnet (terminal distant)</div>
              </div>
            </div>
            <div>
              <div class="timeline-item">
                <span class="timeline-year">1986</span>
                <div class="timeline-content">CAN bus (embarqu√© auto)</div>
              </div>
              <div class="timeline-item">
                <span class="timeline-year">1991</span>
                <div class="timeline-content">XCoffee (webcam caf√©)</div>
              </div>
              <div class="timeline-item">
                <span class="timeline-year">1999</span>
                <div class="timeline-content">"Internet of Things" ‚Äî le terme na√Æt</div>
              </div>
              <div class="info-box success" style="margin-top: 1.5rem;">
                <div class="info-box-title">üéØ √Ä RETENIR</div>
                <p>Le mot est r√©cent, l'id√©e est vieille.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.09 - Pourquoi IoT explose -->
      <div class="slide" data-day="1" data-note="EXPLOSION IoT (3 min) ‚Äî Expliquer pourquoi maintenant : les puces co√ªtent 2‚Ç¨, le Wi-Fi est partout, les batteries durent des mois. MQTT permet d'envoyer des messages en 50 octets. Transition : 'Voil√† notre stack pour le cours'.">
        <div class="slide-content">
          <span class="slide-number">J1.09</span>
          <h1 class="slide-title">Pourquoi l'IoT moderne explose ?</h1>
          <div class="two-col">
            <ul>
              <li>Miniaturisation (MCU puissants & peu chers)</li>
              <li>Sans fil (Wi‚ÄëFi / BLE / LPWAN)</li>
              <li>Batteries & low-power</li>
              <li>Outils dev + √©cosyst√®mes (libs, cloud, MQTT)</li>
            </ul>
            <div class="slide-image-container">
              <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?w=600&q=80" alt="Microchip" class="slide-image">
              <p class="image-credit">Photo: <a href="https://unsplash.com/@alexkixa" target="_blank">Alexandre Debi√®ve / Unsplash</a></p>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.10 - Notre stack -->
      <div class="slide" data-day="1" data-note="STACK (3 min) ‚Äî Rassurer : J1 = simulateur, pas de mat√©riel √† installer. J2 = ESP32 r√©el. Montrer l'image ESP32 : 'Demain vous aurez √ßa en main'. Le Serial Monitor sera notre outil de debug principal.">
        <div class="slide-content">
          <span class="slide-number">J1.10</span>
          <h1 class="slide-title">Notre stack du cours</h1>
          <div class="two-col">
            <div>
              <ul>
                <li><strong>Jour 1 :</strong> Tinkercad (simulateur en ligne)</li>
                <li><strong>Ensuite :</strong> ESP32 r√©el (Wi‚ÄëFi, BLE, GPIO)</li>
                <li><strong>Debug :</strong> Serial Monitor</li>
                <li><strong>Communication :</strong> TCP/Telnet puis MQTT</li>
              </ul>
            </div>
            <div class="slide-image-container">
              <img src="https://images.unsplash.com/photo-1624969862644-791f3dc98927?w=600&q=80" alt="ESP32" class="slide-image">
              <p class="image-credit">Photo: <a href="https://unsplash.com" target="_blank">Unsplash</a></p>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.SYN1 - Structure Arduino -->
      <div class="slide" data-day="1" data-note="STRUCTURE (5 min) ‚Äî Comparer √† un programme classique : setup() = initialisation (une seule fois), loop() = boucle infinie qui tourne en permanence. Analogie : setup = pr√©parer la cuisine, loop = cuisiner en continu. Question : 'Pourquoi une boucle infinie ?' ‚Üí l'Arduino ne s'arr√™te jamais.">
        <div class="slide-content">
          <span class="slide-number">J1.SYN1</span>
          <h1 class="slide-title">Structure d'un programme Arduino</h1>
          <div class="two-col">
            <div>
              <h3><span class="info-term">setup()<span class="info-tooltip"><span class="info-tooltip-title">setup()</span>Fonction appel√©e UNE SEULE FOIS au d√©marrage. Sert √† configurer les pins, d√©marrer la communication s√©rie, etc.</span></span></h3>
              <p>Ex√©cut√© <strong>une seule fois</strong> au d√©marrage</p>
              <p>‚Üí Configuration initiale</p>
              <h3 style="margin-top: 2rem;"><span class="info-term">loop()<span class="info-tooltip"><span class="info-tooltip-title">loop()</span>Fonction qui se r√©p√®te √† l'INFINI apr√®s setup(). C'est ici que se passe le travail : lire capteurs, allumer LEDs, etc.</span></span></h3>
              <p>Ex√©cut√© <strong>en boucle infinie</strong></p>
              <p>‚Üí Le c≈ìur du programme</p>
            </div>
            <div>
              <pre><code><span class="type">void</span> <span class="function">setup</span>() {
  <span class="comment">// Une seule fois</span>
  <span class="comment">// Ex: configurer un pin</span>
}

<span class="type">void</span> <span class="function">loop</span>() {
  <span class="comment">// Se r√©p√®te √† l'infini</span>
  <span class="comment">// Ex: lire, d√©cider, agir</span>
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.SYN2 - Variables -->
      <div class="slide" data-day="1" data-note="VARIABLES (7 min) ‚Äî Une variable = une bo√Æte avec un nom et un type. int = nombre entier, bool = vrai/faux, unsigned long = grand nombre positif (pour millis). Montrer : d√©clarer puis utiliser. Pi√®ge d√©butant : oublier le type, ou utiliser int pour millis (overflow apr√®s 32 secondes !).">
        <div class="slide-content">
          <span class="slide-number">J1.SYN2</span>
          <h1 class="slide-title">Variables : stocker des valeurs</h1>
          <div class="two-col">
            <div>
              <p>Une <span class="info-term">variable<span class="info-tooltip"><span class="info-tooltip-title">Variable</span>Une "bo√Æte" nomm√©e qui contient une valeur. On peut lire ou modifier cette valeur pendant l'ex√©cution.</span></span> = une bo√Æte pour stocker une valeur</p>
              <h3>Types courants</h3>
              <ul>
                <li><code>int</code> ‚Äî nombre entier (-32768 √† 32767)</li>
                <li><code>bool</code> ‚Äî vrai (<code>true</code>) ou faux (<code>false</code>)</li>
                <li><code>unsigned long</code> ‚Äî grand nombre positif</li>
              </ul>
            </div>
            <div>
              <pre><code><span class="comment">// D√©claration + valeur initiale</span>
<span class="type">int</span> compteur = <span class="number">0</span>;
<span class="type">bool</span> ledAllumee = <span class="keyword">false</span>;
<span class="type">unsigned long</span> temps = <span class="number">0</span>;

<span class="comment">// Utilisation</span>
compteur = compteur + <span class="number">1</span>;
ledAllumee = <span class="keyword">true</span>;
temps = <span class="function">millis</span>();</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.SYN3 - Conditions -->
      <div class="slide" data-day="1" data-note="CONDITIONS (7 min) ‚Äî if = 'si cette condition est vraie, faire ceci'. else = 'sinon, faire cela'. Op√©rateurs : == (√©gal), != (diff√©rent), < > <= >=. PI√àGE : = vs == ! Un seul = c'est l'affectation, deux == c'est la comparaison. Erreur tr√®s fr√©quente chez les d√©butants.">
        <div class="slide-content">
          <span class="slide-number">J1.SYN3</span>
          <h1 class="slide-title">Conditions : prendre des d√©cisions</h1>
          <div class="two-col">
            <div>
              <p><code>if</code> = "si... alors"</p>
              <p><code>else</code> = "sinon"</p>
              <h3>Op√©rateurs de comparaison</h3>
              <ul>
                <li><code>==</code> √©gal</li>
                <li><code>!=</code> diff√©rent</li>
                <li><code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code></li>
              </ul>
              <div class="info-box warning" style="margin-top: 1rem;">
                <div class="info-box-title">‚ö†Ô∏è PI√àGE</div>
                <p><code>=</code> affecte, <code>==</code> compare !</p>
              </div>
            </div>
            <div>
              <pre><code><span class="keyword">if</span> (compteur > <span class="number">10</span>) {
  <span class="comment">// Si compteur d√©passe 10</span>
  Serial.<span class="function">println</span>(<span class="string">"Limite !"</span>);
}

<span class="keyword">if</span> (boutonAppuye == <span class="keyword">true</span>) {
  ledAllumee = <span class="keyword">true</span>;
} <span class="keyword">else</span> {
  ledAllumee = <span class="keyword">false</span>;
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.SYN4 - Fonctions Arduino -->
      <div class="slide" data-day="1" data-note="FONCTIONS (7 min) ‚Äî 4 fonctions essentielles √† m√©moriser. pinMode = configurer, digitalWrite = √©crire, digitalRead = lire, millis = temps. Montrer le lien avec le hardware : pin 13 = la LED sur la carte. OUTPUT/INPUT = direction du courant. HIGH/LOW = 1/0 = allum√©/√©teint.">
        <div class="slide-content">
          <span class="slide-number">J1.SYN4</span>
          <h1 class="slide-title">Fonctions Arduino essentielles</h1>
          <div class="two-col">
            <div>
              <h3>Configuration</h3>
              <pre style="margin-bottom: 1rem;"><code><span class="function">pinMode</span>(pin, OUTPUT); <span class="comment">// sortie</span>
<span class="function">pinMode</span>(pin, INPUT);  <span class="comment">// entr√©e</span></code></pre>
              <h3>√âcriture / Lecture</h3>
              <pre><code><span class="function">digitalWrite</span>(pin, HIGH); <span class="comment">// allumer</span>
<span class="function">digitalWrite</span>(pin, LOW);  <span class="comment">// √©teindre</span>
<span class="type">int</span> val = <span class="function">digitalRead</span>(pin);</code></pre>
            </div>
            <div>
              <h3>Temps</h3>
              <pre style="margin-bottom: 1rem;"><code><span class="type">unsigned long</span> t = <span class="function">millis</span>();
<span class="comment">// Millisecondes depuis le boot</span></code></pre>
              <div class="info-box success">
                <div class="info-box-title">üìù √Ä RETENIR</div>
                <ul style="margin: 0; font-size: 1.2rem;">
                  <li><code>HIGH</code> = 1 = allum√©</li>
                  <li><code>LOW</code> = 0 = √©teint</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.11 - Tinkercad -->
      <div class="slide" data-day="1" data-note="TINKERCAD (10 min) ‚Äî Faire la d√©mo en live : 1) tinkercad.com 2) Cr√©er compte (ou login) 3) Circuits ‚Üí Nouveau 4) Chercher Arduino UNO, glisser 5) Bouton Code ‚Üí Texte. IMPORTANT : attendre que tout le monde ait l'√©cran avant de continuer. Probl√®mes fr√©quents : compte email non v√©rifi√©, navigateur bloquant.">
        <div class="slide-content">
          <span class="slide-number">J1.11</span>
          <h1 class="slide-title">Tinkercad : prise en main</h1>
          <div class="two-col">
            <div>
              <h3>Pourquoi simuler ?</h3>
              <ul>
                <li>Pas de mat√©riel n√©cessaire</li>
                <li>Exp√©rimenter sans risque</li>
                <li>Comprendre avant le hardware</li>
              </ul>
              <h3>Acc√®s</h3>
              <p><code>tinkercad.com</code> ‚Üí Circuits</p>
            </div>
            <div>
              <h3>√âtapes</h3>
              <ol>
                <li>Cr√©er un compte</li>
                <li>Glisser un <strong>Arduino UNO</strong></li>
                <li>Cliquer <strong>Code</strong> ‚Üí mode <strong>Texte</strong></li>
                <li><strong>D√©marrer la simulation</strong></li>
              </ol>
              <div class="info-box" style="margin-top: 1rem;">
                <div class="info-box-title">üí° ASTUCE</div>
                <p>Cliquer sur l'Arduino pour ouvrir le Serial Monitor</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.13 - Serial & communication -->
      <div class="slide" data-day="1" data-note="SERIAL (5 min) ‚Äî Expliquer : Serial = fil USB qui transporte du texte. Comme les vieux terminaux VT100. On tape, √ßa r√©pond. Faire une blague : 'Bienvenue en 1983 !'. Montrer o√π est le Serial Monitor dans Tinkercad (clic sur Arduino).">
        <div class="slide-content">
          <span class="slide-number">J1.13</span>
          <h1 class="slide-title">Du Serial au r√©seau</h1>
          <div class="two-col">
            <div>
              <h3>Serial (local)</h3>
              <ul>
                <li>Un <strong>tuyau</strong> texte USB</li>
                <li>On envoie des lignes, on lit des r√©ponses</li>
                <li>M√™me philosophie que les terminaux 1983</li>
              </ul>
            </div>
            <div>
              <h3>Telnet / TCP (r√©seau)</h3>
              <ul>
                <li>M√™me principe, mais √† distance</li>
                <li>On fera √ßa plus tard sur ESP32</li>
              </ul>
              <div class="info-box" style="margin-top: 1rem;">
                <div class="info-box-title">üñ•Ô∏è D√âMO</div>
                <p>Serial Monitor : baudrate, envoi de commande</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.15 - Premier code Blink -->
      <div class="slide" data-day="1" data-note="BLINK (15 min) ‚Äî C'est l'Exo 1 ! Expliquer millis() vs delay() : delay() bloque TOUT, millis() permet de faire autre chose. Analogie : delay = dormir, millis = regarder sa montre. D√âMO : copier le code, lancer simulation, voir LED clignoter. Checkpoints : ‚úì compilation OK ‚úì LED clignote.">
        <div class="slide-content">
          <span class="slide-number">J1.15</span>
          <h1 class="slide-title">Premier code : LED qui clignote</h1>
          <p style="margin-bottom: 1rem;">Objectif : LED clignote <strong>sans delay()</strong> ‚Äî Notions : <code>millis()</code>, p√©riode, √©tat</p>
          <pre><code><span class="keyword">const</span> <span class="type">int</span> LED_PIN = <span class="number">13</span>;       <span class="comment">// LED int√©gr√©e Arduino</span>
<span class="keyword">const</span> <span class="type">unsigned long</span> PERIOD = <span class="number">500</span>;
<span class="type">unsigned long</span> t0 = <span class="number">0</span>;
<span class="type">bool</span> state = <span class="keyword">false</span>;

<span class="type">void</span> <span class="function">setup</span>() {
  <span class="function">pinMode</span>(LED_PIN, OUTPUT);
}

<span class="type">void</span> <span class="function">loop</span>() {
  <span class="type">unsigned long</span> now = <span class="function">millis</span>();
  <span class="keyword">if</span> (now - t0 >= PERIOD) {
    t0 = now;
    state = !state;
    <span class="function">digitalWrite</span>(LED_PIN, state);
  }
}</code></pre>
        </div>
      </div>

      <!-- J1.16 - Ajouter du Serial -->
      <div class="slide" data-day="1" data-note="SERIAL CODE (10 min) ‚Äî Suite Exo 1 : ajouter Serial.begin(9600) dans setup. Attention : Tinkercad = 9600 baud par d√©faut ! Montrer Serial.println('Boot OK'). Faire afficher 'LED=ON' / 'LED=OFF' √† chaque changement. Pi√®ge fr√©quent : oublier le \\n ou mauvais baudrate.">
        <div class="slide-content">
          <span class="slide-number">J1.16</span>
          <h1 class="slide-title">Communiquer via Serial</h1>
          <p style="margin-bottom: 1rem;">Objectif : "j'√©cris dans le terminal"</p>
          <pre><code>Serial.<span class="function">begin</span>(<span class="number">115200</span>);
Serial.<span class="function">println</span>(<span class="string">"Boot OK"</span>);</code></pre>
          <div class="info-box" style="margin-top: 1.5rem;">
            <div class="info-box-title">üìù TP</div>
            <ul style="margin: 0;">
              <li>Afficher un heartbeat ("tick" toutes les secondes)</li>
              <li>Afficher <code>LED=ON/OFF</code> √† chaque changement</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- J1.17 - Mini protocole texte -->
      <div class="slide" data-day="1" data-note="COMMANDES (15 min) ‚Äî Fin Exo 1 : lire Serial avec Serial.readStringUntil('\\n'), faire .trim(), comparer avec 'ON', 'OFF'. Montrer le pattern : if (line == 'ON') { ... }. Challenge : ajouter 'BLINK 5' qui fait 5 clignotements. Checkpoints : ‚úì ON/OFF imm√©diats ‚úì BLINK n fonctionne.">
        <div class="slide-content">
          <span class="slide-number">J1.17</span>
          <h1 class="slide-title">Protocole commande-r√©ponse</h1>
          <div class="two-col">
            <div>
              <p>On tape : <code>STATUS</code></p>
              <p>L'Arduino r√©pond : <code>LED=ON</code> ou <code>LED=OFF</code></p>
              <h3>Pseudo-code</h3>
              <p>buffer ligne ‚Üí trim ‚Üí if equals "STATUS"</p>
            </div>
            <div class="info-box">
              <div class="info-box-title">üìù TP</div>
              <ul style="margin: 0;">
                <li>Lire une ligne depuis Serial</li>
                <li>Comparer et r√©pondre</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J1.18 - R√©cap -->
      <div class="slide" data-day="1" data-note="R√âCAP (5 min) ‚Äî Tour de table rapide : 'Qui a r√©ussi √† faire clignoter ?' 'Qui a fait ON/OFF ?'. Annoncer J2 : on passe au vrai mat√©riel + bouton + anti-rebond. Exercices facultatifs pour ceux qui veulent approfondir.">
        <div class="slide-content">
          <span class="slide-number">J1.18</span>
          <h1 class="slide-title">R√©cap & exercices</h1>
          <div class="two-col">
            <div>
              <h3>Acquis du jour</h3>
              <ul>
                <li><code>millis()</code> au lieu de <code>delay()</code></li>
                <li>Serial = notre terminal de debug</li>
                <li>Commande ‚Üí r√©ponse</li>
              </ul>
              <h3>Demain (J2)</h3>
              <p>ESP32 r√©el + bouton + anti-rebond</p>
            </div>
            <div class="info-box success">
              <div class="info-box-title">üéØ EXERCICES RESTANTS</div>
              <ul style="margin: 0;">
                <li><strong>Exo 2 :</strong> Bouton + anti-rebond</li>
                <li><strong>Exo 3 :</strong> Nightlight (potentiom√®tre)</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J1 - Exo 2 Bouton -->
      <div class="slide" data-day="1" data-note="EXO 2 (45-60 min) ‚Äî Ajouter un bouton en INPUT_PULLUP. Expliquer : repos = HIGH, appuy√© = LOW (invers√© !). PROBL√àME : sans debounce, un appui = 10 √©v√©nements. Montrer le spam dans Serial. Introduire l'anti-rebond : on attend 40ms de stabilit√© avant de valider.">
        <div class="slide-content">
          <span class="slide-number">J1.EX2</span>
          <h1 class="slide-title">Exo 2 : Bouton anti-rebond</h1>
          <div class="two-col">
            <div>
              <h3>Mission</h3>
              <ul>
                <li>Bouton en <code>INPUT_PULLUP</code></li>
                <li>Anti-rebond : stable 40ms avant validation</li>
                <li>Appui court ‚Üí toggle LED</li>
                <li>Appui long (‚â•1200ms) ‚Üí mode clignotement</li>
              </ul>
            </div>
            <div>
              <h3>Checkpoints</h3>
              <ul class="checklist">
                <li>1 appui = 1 seul √©v√©nement</li>
                <li>Appui long d√©tect√© proprement</li>
                <li>Code reste r√©actif (pas de delay)</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J1 - Exo 3 Nightlight -->
      <div class="slide" data-day="1" data-note="EXO 3 (45-60 min) ‚Äî Utiliser un potentiom√®tre pour simuler la luminosit√©. Expliquer analogRead() : valeur 0-1023. D√©finir seuil ON (400) et seuil OFF (600) = hyst√©r√©sis pour √©viter le clignotement proche du seuil. Challenge : ajouter une LED qui s'allume progressivement.">
        <div class="slide-content">
          <span class="slide-number">J1.EX3</span>
          <h1 class="slide-title">Exo 3 : Nightlight</h1>
          <div class="two-col">
            <div>
              <h3>Mission</h3>
              <ul>
                <li>Potentiom√®tre = luminosit√© simul√©e</li>
                <li><code>analogRead()</code> ‚Üí valeur 0-1023</li>
                <li>Seuil ON : 400 / Seuil OFF : 600</li>
                <li>Hyst√©r√©sis = pas de clignotement</li>
              </ul>
            </div>
            <div>
              <h3>Checkpoints</h3>
              <ul class="checklist">
                <li>Valeur bouge quand je tourne</li>
                <li>LED s'allume dans le "sombre"</li>
                <li>Pas de clignotement au seuil</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- ==================== JOUR 2 ==================== -->

      <!-- J2.01 - Titre -->
      <div class="slide" data-day="2" data-note="INTRO J2 (5 min) ‚Äî Aujourd'hui : le VRAI mat√©riel ! Matin = refaire les exos J1 sur ESP32. Apr√®s-midi = feu tricolore + mode ambulance. V√©rifier que tout le monde a : ESP32, c√¢ble USB, LEDs, r√©sistances, bouton, breadboard.">
        <div class="slide-content hero-slide">
          <span class="slide-number">J2.01</span>
          <h1 class="slide-title title-hero">IoT ‚Äî Jour 2</h1>
          <p class="slide-subtitle" style="text-align: center; margin-top: -1rem;">Du simulateur au r√©el</p>
          <p class="author">Sion GENDERS</p>
          <p class="linkedin"><a href="https://www.linkedin.com/in/sion-gdrs/" target="_blank">linkedin.com/in/sion-gdrs</a></p>
        </div>
      </div>

      <!-- J2.02 - Rappel J1 -->
      <div class="slide" data-day="2" data-note="RAPPEL (5 min) ‚Äî Quiz flash : 'C'est quoi millis() ?' 'Pourquoi INPUT_PULLUP ?'. D√©mo confiance : brancher ESP32, flasher le blink de J1 en 30 sec. Montrer que √ßa marche pareil qu'en simulation. Diff√©rence : Serial √† 115200 sur ESP32 !">
        <div class="slide-content">
          <span class="slide-number">J2.02</span>
          <h1 class="slide-title">Rappel J1</h1>
          <ul>
            <li><code>millis()</code> > <code>delay()</code></li>
            <li>Serial Monitor = terminal</li>
            <li>On sait flasher / d√©bugger</li>
          </ul>
          <div class="info-box" style="margin-top: 2rem;">
            <div class="info-box-title">üñ•Ô∏è D√âMO RAPIDE</div>
            <p>Flasher le code J1 en 20 secondes ‚Üí effet confiance</p>
          </div>
        </div>
      </div>

      <!-- J2.03 - GPIO -->
      <div class="slide" data-day="2" data-note="GPIO (10 min) ‚Äî Dessiner au tableau : GPIO = General Purpose Input/Output. Sortie = on pousse du courant (LED). Entr√©e = on lit une tension. PI√àGE : entr√©e sans pull-up/down = 'antenne' qui capte du bruit. Faire la d√©mo : fil en l'air ‚Üí valeur qui saute.">
        <div class="slide-content">
          <span class="slide-number">J2.03</span>
          <h1 class="slide-title">GPIO : entr√©e vs sortie</h1>
          <div class="two-col">
            <div>
              <ul>
                <li><strong>Sortie :</strong> on impose 0/1 (LED)</li>
                <li><strong>Entr√©e :</strong> on lit 0/1 (bouton, capteur digital)</li>
              </ul>
              <div class="info-box warning" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚ö†Ô∏è PI√àGE</div>
                <p>Entr√©e "flottante" si pas de pull-up/down = antenne !</p>
              </div>
            </div>
            <div class="slide-image-container">
              <img src="https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=600&q=80" alt="Electronics" class="slide-image">
              <p class="image-credit">Photo: <a href="https://unsplash.com/@robinsongreig" target="_blank">Robinson Greig / Unsplash</a></p>
            </div>
          </div>
        </div>
      </div>

      <!-- J2.04 - Pull-up / Pull-down -->
      <div class="slide" data-day="2" data-note="PULL-UP (10 min) ‚Äî Dessiner le sch√©ma : r√©sistance qui 'tire' vers le haut (3.3V). Quand bouton appuy√© ‚Üí court-circuit vers GND ‚Üí LOW. Logique INVERS√âE ! INPUT_PULLUP = la r√©sistance est dans la puce, pas besoin de composant externe. ESP32 = 3.3V, pas 5V !">
        <div class="slide-content">
          <span class="slide-number">J2.04</span>
          <h1 class="slide-title">R√©sistances pull-up & pull-down</h1>
          <ul>
            <li>Pull-up interne : <code>INPUT_PULLUP</code></li>
            <li>Bouton vers GND ‚Üí logique invers√©e (appuy√© = LOW)</li>
            <li>Pourquoi : √©tat stable quand rien n'est appuy√©</li>
          </ul>
          <div class="info-box success" style="margin-top: 2rem;">
            <div class="info-box-title">üí° CONSEIL</div>
            <p>On pr√©f√®re pull-up interne : moins de composants externes</p>
          </div>
        </div>
      </div>

      <!-- J2.05 - Sch√©ma c√¢blage -->
      <div class="slide" data-day="2" data-note="C√ÇBLAGE (15 min) ‚Äî Faire c√¢bler en live avec les apprenants. LED : patte longue (+) ‚Üí GPIO via r√©sistance 220Œ© ‚Üí GND. Bouton : une patte ‚Üí GPIO, autre patte ‚Üí GND. ERREURS FR√âQUENTES : LED √† l'envers (ne grille pas, mais ne s'allume pas), mauvais GPIO, r√©sistance oubli√©e.">
        <div class="slide-content">
          <span class="slide-number">J2.05</span>
          <h1 class="slide-title">Sch√©ma de c√¢blage</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>LED + r√©sistance en s√©rie</li>
                <li>Bouton entre GPIO et GND</li>
                <li>GPIO bouton en <code>INPUT_PULLUP</code></li>
              </ul>
            </div>
            <div class="slide-image-container">
              <img src="https://images.unsplash.com/photo-1608564697071-ddf911d81370?w=600&q=80" alt="Breadboard wiring" class="slide-image">
              <p class="image-credit">Photo: <a href="https://unsplash.com/@harrisonfitts" target="_blank">Harrison Fitts / Unsplash</a></p>
            </div>
          </div>
        </div>
      </div>

      <!-- J2.06 - Probl√®me rebonds -->
      <div class="slide" data-day="2" data-note="REBONDS (10 min) ‚Äî D√âMO CHOC : code sans debounce, Serial.println √† chaque changement ‚Üí SPAM de lignes pour 1 appui ! Expliquer : contact m√©canique = vibrations = plusieurs transitions en quelques ms. Solution : ignorer les changements pendant 30-50ms.">
        <div class="slide-content">
          <span class="slide-number">J2.06</span>
          <h1 class="slide-title">Rebonds : le probl√®me</h1>
          <ul>
            <li>Un bouton ne fait pas "clic" ‚Üí il fait "clicclicclic"</li>
            <li>Sans filtrage : plusieurs appuis d√©tect√©s</li>
            <li>Solution : anti-rebond (temps + √©tat stable)</li>
          </ul>
          <div class="info-box warning" style="margin-top: 2rem;">
            <div class="info-box-title">üî¨ D√âMO</div>
            <p>Log Serial brut sans debounce = spam de transitions</p>
          </div>
        </div>
      </div>

      <!-- J2.07 - M√©thode anti-rebond -->
      <div class="slide" data-day="2" data-note="ALGO DEBOUNCE (10 min) ‚Äî Expliquer l'algo : 1) lire l'√©tat brut 2) si diff√©rent du pr√©c√©dent ‚Üí reset timer 3) si timer > 30ms ET √©tat diff√©rent du stable ‚Üí valider. Montrer le pseudo-code. Valeur 30-50ms = bon compromis. Trop court = rebonds passent, trop long = lag perceptible.">
        <div class="slide-content">
          <span class="slide-number">J2.07</span>
          <h1 class="slide-title">Anti-rebond : le principe</h1>
          <ol>
            <li>On lit l'√©tat</li>
            <li>Si changement ‚Üí on d√©marre un timer</li>
            <li>Si stable pendant X ms ‚Üí on valide</li>
          </ol>
          <pre style="margin-top: 1.5rem;"><code><span class="keyword">const</span> <span class="type">unsigned long</span> DEBOUNCE_MS = <span class="number">30</span>; <span class="comment">// √† ajuster</span></code></pre>
        </div>
      </div>

      <!-- J2.08 - Architecture loop -->
      <div class="slide" data-day="2" data-note="ARCHITECTURE (5 min) ‚Äî Montrer le pattern : loop() appelle des fonctions sp√©cialis√©es. Chaque fonction fait UNE chose et retourne vite. Jamais de while(true) ou delay() long dans une fonction. C'est la base pour g√©rer plusieurs t√¢ches en parall√®le.">
        <div class="slide-content">
          <span class="slide-number">J2.08</span>
          <h1 class="slide-title">Structure d'une loop r√©active</h1>
          <pre><code><span class="type">void</span> <span class="function">loop</span>() {
  <span class="function">readButton</span>();         <span class="comment">// lecture + debounce</span>
  <span class="function">handleSerialCommands</span>();  <span class="comment">// commandes texte</span>
  <span class="function">updateLed</span>();          <span class="comment">// mise √† jour sortie</span>
  <span class="function">telemetry</span>();          <span class="comment">// option : logs p√©riodiques</span>
}</code></pre>
          <div class="info-box" style="margin-top: 2rem;">
            <div class="info-box-title">üéØ PATTERN</div>
            <p>Chaque fonction fait UNE chose, sans bloquer</p>
          </div>
        </div>
      </div>

      <!-- J2.09 - TP1 LED par bouton -->
      <div class="slide" data-day="2" data-note="TP BOUTON (30 min) ‚Äî Les apprenants c√¢blent et codent. Passer dans les rangs. Erreurs courantes : bouton vers 3.3V au lieu de GND, oubli INPUT_PULLUP, debounce trop court (10ms). Checkpoint : 1 appui = 1 toggle, pas de double.">
        <div class="slide-content">
          <span class="slide-number">J2.09</span>
          <h1 class="slide-title">TP : Bouton ‚Üí LED</h1>
          <p style="margin-bottom: 1rem;"><strong>Objectif :</strong> √Ä chaque appui valid√© ‚Üí inversion LED</p>
          <ol>
            <li>C√¢bler bouton + LED</li>
            <li>Lire bouton avec <code>INPUT_PULLUP</code></li>
            <li>Ajouter anti-rebond</li>
            <li><code>onPress()</code> ‚Üí <code>ledState = !ledState</code></li>
          </ol>
          <pre style="margin-top: 1rem;"><code><span class="comment">// Logique invers√©e avec pull-up</span>
<span class="type">bool</span> pressed = (<span class="function">digitalRead</span>(BTN_PIN) == LOW);</code></pre>
        </div>
      </div>

      <!-- J2.10 - TP2 Commandes s√©rie -->
      <div class="slide" data-day="2" data-note="TP SERIAL (20 min) ‚Äî Parser = d√©couper la ligne et reconna√Ætre les mots. M√™me philosophie RS‚Äë232 / Telnet : texte clair, humain. Erreurs fr√©quentes : oubli du trim(), comparaison avec == au lieu de equals (pas en Arduino mais en Java), \\r\\n vs \\n.">
        <div class="slide-content">
          <span class="slide-number">J2.10</span>
          <h1 class="slide-title">TP : Commandes Serial</h1>
          <div class="two-col">
            <div>
              <h3>Commandes</h3>
              <ul>
                <li><code>ON</code> ‚Üí LED ON</li>
                <li><code>OFF</code> ‚Üí LED OFF</li>
                <li><code>STATUS</code> ‚Üí LED + bouton</li>
              </ul>
            </div>
            <div class="info-box">
              <div class="info-box-title">üìù TP</div>
              <ul style="margin: 0;">
                <li>Parser une ligne simple</li>
                <li>R√©pondre par une ligne lisible</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2.11 - TP3 Event log -->
      <div class="slide" data-day="2" data-note="EVENT LOG (10 min) ‚Äî Pr√©pare la t√©l√©m√©trie MQTT. Le format EVENT:xxx sera r√©utilis√© plus tard. Montrer qu'on peut filtrer les logs avec ce pr√©fixe. Bonus : ajouter un timestamp avec millis().">
        <div class="slide-content">
          <span class="slide-number">J2.11</span>
          <h1 class="slide-title">TP : Event Log</h1>
          <ul>
            <li>Quand bouton press ‚Üí <code>EVENT:BTN_PRESS</code></li>
            <li>Quand LED change ‚Üí <code>EVENT:LED=ON/OFF</code></li>
          </ul>
          <div class="info-box success" style="margin-top: 2rem;">
            <div class="info-box-title">üöÄ OBJECTIF</div>
            <p>Pr√©parer mentalement la t√©l√©m√©trie (MQTT plus tard)</p>
          </div>
        </div>
      </div>

      <!-- J2.12 - D√©brief bugs -->
      <div class="slide" data-day="2" data-note="Montrer une checklist debug rapide.">
        <div class="slide-content">
          <span class="slide-number">J2.12</span>
          <h1 class="slide-title">D√©brief bugs fr√©quents</h1>
          <ul>
            <li>Mauvais GPIO (LED int√©gr√©e pas sur le pin attendu)</li>
            <li>Oubli r√©sistance LED</li>
            <li>Bouton c√¢bl√© sur 3.3V au lieu de GND avec pull-up</li>
            <li>Baudrate pas align√©</li>
            <li>Rebonds non g√©r√©s ‚Üí double toggle</li>
          </ul>
          <div class="info-box warning" style="margin-top: 1.5rem;">
            <div class="info-box-title">üîß CHECKLIST DEBUG</div>
            <p>GPIO ‚Ä¢ C√¢blage ‚Ä¢ Baudrate ‚Ä¢ Debounce</p>
          </div>
        </div>
      </div>

      <!-- J2.13 - Mini-challenges -->
      <div class="slide" data-day="2" data-note="">
        <div class="slide-content">
          <span class="slide-number">J2.13</span>
          <h1 class="slide-title">Mini-challenges (si avance)</h1>
          <ol>
            <li>Double clic = LED clignote 3 fois</li>
            <li>Appui long (>800ms) = LED OFF</li>
            <li><code>HELP</code> affiche la liste des commandes</li>
          </ol>
        </div>
      </div>

      <!-- J2 - Exo 4 Feu tricolore -->
      <div class="slide" data-day="2" data-note="FEU TRICOLORE (60-90 min) ‚Äî APR√àS-MIDI. 3 LEDs : rouge, orange, verte. Cycle : Vert 6s ‚Üí Orange 2s ‚Üí Rouge 6s ‚Üí boucle. IMPORTANT : pas de delay(6000) ! Machine √† √©tats : enum State {GREEN, YELLOW, RED}. Variable stateSince pour savoir depuis quand on est dans l'√©tat.">
        <div class="slide-content">
          <span class="slide-number">J2.EX4</span>
          <h1 class="slide-title">Exo 4 : Feu tricolore</h1>
          <div class="two-col">
            <div>
              <h3>Cycle normal</h3>
              <ul>
                <li>üü¢ Vert : 6 secondes</li>
                <li>üü† Orange : 2 secondes</li>
                <li>üî¥ Rouge : 6 secondes</li>
              </ul>
              <h3>Contrainte</h3>
              <p>Pas de <code>delay()</code> bloquant !</p>
            </div>
            <div>
              <h3>Machine √† √©tats</h3>
              <pre style="font-size: 0.9rem;"><code><span class="keyword">enum</span> State { GREEN, YELLOW, RED };
State state = GREEN;
<span class="type">unsigned long</span> stateSince = <span class="number">0</span>;</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2 - Exo 5 Ambulance -->
      <div class="slide" data-day="2" data-note="AMBULANCE (60-90 min) ‚Äî Mode priorit√© d√©clench√© par bouton ou commande 'AMB ON'. Quand activ√© : si vert ‚Üí orange 1s ‚Üí rouge. Reste rouge tant qu'ambulance active. D√©sactivation : d√©lai 1s s√©curit√© puis retour vert. Ajouter √©tats AMB_TRANSITION et AMB_LOCK.">
        <div class="slide-content">
          <span class="slide-number">J2.EX5</span>
          <h1 class="slide-title">Exo 5 : Mode ambulance</h1>
          <div class="two-col">
            <div>
              <h3>D√©clenchement</h3>
              <ul>
                <li>Bouton "ambulance" ou</li>
                <li>Commande <code>AMB ON</code> / <code>AMB OFF</code></li>
              </ul>
              <h3>Comportement</h3>
              <ol>
                <li>Si vert ‚Üí orange 1s ‚Üí rouge</li>
                <li>Rouge fixe tant qu'actif</li>
                <li>D√©sactivation : 1s puis vert</li>
              </ol>
            </div>
            <div>
              <h3>√âtats suppl√©mentaires</h3>
              <pre style="font-size: 0.9rem;"><code><span class="keyword">enum</span> State {
  GREEN, YELLOW, RED,
  AMB_TRANSITION,
  AMB_LOCK
};</code></pre>
              <div class="info-box warning" style="margin-top: 1rem;">
                <div class="info-box-title">‚ö†Ô∏è S√âCURIT√â</div>
                <p>Jamais de passage direct rouge ‚Üí vert !</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J2.14 - R√©cap & teaser J3 -->
      <div class="slide" data-day="2" data-note="R√âCAP J2 (10 min) ‚Äî Tour de table : 'Qui a fait marcher le feu ?' 'Qui a fait l'ambulance ?'. Rappeler les acquis : GPIO, pull-up, debounce, machine √† √©tats. Annoncer J3 : capteurs analogiques, bruit, filtrage. Collecter les livrables.">
        <div class="slide-content">
          <span class="slide-number">J2.14</span>
          <h1 class="slide-title">R√©cap & livrables</h1>
          <div class="two-col">
            <div>
              <h3>Acquis J2</h3>
              <ul>
                <li>GPIO r√©el sur ESP32</li>
                <li>Anti-rebond robuste</li>
                <li>Machine √† √©tats</li>
              </ul>
              <h3>Prochain cours (J3)</h3>
              <p>Capteurs analogiques, bruit & filtrage</p>
            </div>
            <div class="info-box success">
              <div class="info-box-title">üì¶ LIVRABLES</div>
              <ul style="margin: 0;">
                <li><code>J2_Button_Debounce.ino</code></li>
                <li><code>J2_Feu_Tricolore.ino</code></li>
                <li>README avec sch√©ma + captures</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- ==================== JOUR 2 ALT ==================== -->

      <!-- J2A.01 - Titre -->
      <div class="slide" data-day="3" data-note="INTRO PLAN B (3 min) ‚Äî Contexte m√©t√©o : on passe sur un plan B sans perdre l'objectif p√©dagogique. Promesse : pipeline IoT complet en temps r√©el, de la source au dashboard.">
        <div class="slide-content hero-slide">
          <span class="slide-number">J2A.01</span>
          <h1 class="slide-title title-hero">IoT ‚Äî Jour 2 (Alt)</h1>
          <p class="slide-subtitle" style="text-align: center; margin-top: -1rem;">Plan B : pipeline temps r√©el</p>
          <p class="author">Sion GENDERS</p>
          <p class="linkedin"><a href="https://www.linkedin.com/in/sion-gdrs/" target="_blank">linkedin.com/in/sion-gdrs</a></p>
        </div>
      </div>

      <!-- J2A.02 - Plan du jour -->
      <div class="slide" data-day="3" data-note="PLAN (2 min) ‚Äî Montrer la logique en 8 √©tapes, chaque √©tape est un exercice. Insister sur le fil rouge : un flux live qui devient contr√¥lable.">
        <div class="slide-content" style="text-align: center;">
          <span class="slide-number">J2A.02</span>
          <h1 class="slide-title title-plan">Plan du jour (Alt)</h1>
          <ol style="display: inline-block; text-align: left;">
            <li>Cadrage + contrat des messages</li>
            <li>Broker MQTT local</li>
            <li>ESP32 : Wi‚ÄëFi + MQTT + t√©l√©m√©trie</li>
            <li>ESP32 : simulation + events + LWT</li>
            <li>Serveur bridge MQTT ‚Üí WebSocket</li>
            <li>Front-end temps r√©el</li>
            <li>Commandes bout en bout</li>
            <li>Robustesse + d√©mo finale</li>
          </ol>
        </div>
      </div>

      <!-- J2A.03 - Architecture -->
      <div class="slide" data-day="3" data-note="ARCHI (5 min) ‚Äî Dessiner le pipeline. Expliquer : MQTT = bus pub/sub, WS = push navigateur. Le bridge transforme les messages pour l'UI.">
        <div class="slide-content">
          <span class="slide-number">J2A.03</span>
          <h1 class="slide-title">Pipeline temps r√©el</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>ESP32 simule des mesures (temp, humidit√©, batterie)</li>
                <li>MQTT transporte des messages l√©gers</li>
                <li>Bridge = conversion MQTT ‚Üí WebSocket</li>
                <li>Dashboard = visualiser + commander</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üéØ OBJECTIF</div>
                <p>Voir un flux live, puis fermer la boucle avec une commande.</p>
              </div>
            </div>
            <div>
              <pre><code>ESP32
  ‚Üì MQTT
Server bridge
  ‚Üì WebSocket
Web dashboard</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.DEF - Definitions -->
      <div class="slide" data-day="3" data-note="VOCAB (5 min) ‚Äî Donner des d√©finitions simples. Insister : MQTT = pub/sub via broker, WS = canal temps r√©el pour le navigateur.">
        <div class="slide-content">
          <span class="slide-number">J2A.DEF</span>
          <h1 class="slide-title">D√©finitions cl√©s</h1>
          <div class="two-col">
            <div>
              <ul>
                <li><strong>MQTT :</strong> protocole l√©ger pub/sub, optimis√© pour objets et r√©seaux instables</li>
                <li><strong>WebSocket :</strong> connexion persistante et bidirectionnelle (push temps r√©el)</li>
                <li><strong>T√©l√©m√©trie :</strong> mesures p√©riodiques envoy√©es par l'objet</li>
                <li><strong>LWT :</strong> message automatique si un device tombe (Last Will & Testament)</li>
              </ul>
            </div>
            <div>
              <div class="info-box">
                <div class="info-box-title">üìò MINI-GLOSSAIRE</div>
                <ul style="margin: 0;">
                  <li><strong>Broker :</strong> serveur qui route les messages</li>
                  <li><strong>Topic :</strong> canal nomm√© de publication</li>
                  <li><strong>Payload :</strong> contenu JSON transport√©</li>
                </ul>
              </div>
              <pre style="margin-top: 1.5rem;"><code>publisher ‚Üí [broker] ‚Üí subscribers
topic = "classroom/esp32-01/telemetry"</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.04 - Contrat -->
      <div class="slide" data-day="3" data-note="CONTRAT (5 min) ‚Äî Le contrat est la source de v√©rit√©. Sans lui, les √©quipes cassent la cha√Æne. Montrer topics + payload.">
        <div class="slide-content">
          <span class="slide-number">J2A.04</span>
          <h1 class="slide-title">Contrat de messages</h1>
          <div class="two-col">
            <div>
              <h3>Topics</h3>
              <ul>
                <li><code>classroom/&lt;deviceId&gt;/telemetry</code></li>
                <li><code>classroom/&lt;deviceId&gt;/events</code></li>
                <li><code>classroom/&lt;deviceId&gt;/cmd</code></li>
                <li><code>classroom/&lt;deviceId&gt;/status</code></li>
              </ul>
            </div>
            <div>
              <h3>topics.md (extrait)</h3>
              <pre><code>Topic | Sens | √âmis par | Payload
classroom/&lt;deviceId&gt;/telemetry | mesures | ESP32 | JSON telemetry
classroom/&lt;deviceId&gt;/events | events | ESP32 | JSON event
classroom/&lt;deviceId&gt;/cmd | commandes | server | JSON cmd</code></pre>
              <h3 style="margin-top: 1.5rem;">examples.json</h3>
              <pre><code>{
  "telemetry": {
    "deviceId": "esp32-01",
    "ts": 1736080000,
    "seq": 42,
    "tempC": 22.4,
    "humPct": 48.1,
    "batteryPct": 87
  }
}</code></pre>
            </div>
          </div>
          <div class="info-box success" style="margin-top: 1.5rem;">
            <div class="info-box-title">‚úÖ R√àGLE D'OR</div>
            <p>On fige le contrat AVANT de coder le serveur ou le front.</p>
          </div>
        </div>
      </div>

      <!-- J2A.P1 - Projet contracts -->
      <div class="slide" data-day="3" data-note="PROJET contracts ‚Äî D√©finition claire + points cl√©s. C'est la r√©f√©rence unique pour toute l'√©quipe.">
        <div class="slide-content">
          <span class="slide-number">J2A.P1</span>
          <h1 class="slide-title">Projet : contracts/</h1>
          <div class="two-col">
            <div>
              <h3>D√©finition</h3>
              <p>Contrat commun : topics MQTT + formats JSON attendus.</p>
            </div>
            <div>
              <h3>Talking points</h3>
              <ul>
                <li>Source de v√©rit√© partag√©e</li>
                <li>√âvite le drift entre device / serveur / front</li>
                <li>Facilite les tests rapides</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP1 - Cadrage -->
      <div class="slide" data-day="3" data-note="TP 1 (30 min) ‚Äî Cadrage et initialisation : monorepo + contrat de messages." data-exercise="../J2-Alt/iot-live-dashboard/exercises/01-cadrage-init.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP1</span>
          <h1 class="slide-title">TP 1 : Cadrage et initialisation</h1>
          <div class="two-col">
            <div>
              <h3>Formats attendus</h3>
              <ul>
                <li><code>topics.md</code> : tableau <code>Topic | Sens | √âmis par | Payload</code></li>
                <li><code>examples.json</code> : <code>telemetry</code>, <code>event_boot</code>, <code>event_ack</code>, <code>cmd</code>, <code>status</code></li>
                <li><code>telemetry</code> : <code>deviceId</code>, <code>ts</code>, <code>seq</code>, <code>tempC</code>, <code>humPct</code>, <code>batteryPct</code></li>
                <li><code>event</code> : <code>deviceId</code>, <code>ts</code>, <code>type</code> (+ <code>cmd</code>, <code>ok</code> pour ack)</li>
                <li><code>cmd</code> : <code>cmd</code>, <code>value</code> ‚Ä¢ <code>status</code> : <code>deviceId</code>, <code>ts</code>, <code>status</code></li>
              </ul>
            </div>
            <div>
              <h3>Ordre</h3>
              <ol>
                <li>Cr√©er <code>iot-live-dashboard/</code></li>
                <li>Choisir le <code>deviceId</code> (format <code>esp32-XX</code>)</li>
                <li>R√©diger <code>topics.md</code></li>
                <li>R√©diger <code>examples.json</code></li>
                <li>Valider avec l'√©quipe</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.PRE - Pr√©-requis -->
      <div class="slide" data-day="3" data-note="PR√â-REQUIS (5 min) ‚Äî Installer les outils cl√©s avant de lancer le broker et l'ESP32.">
        <div class="slide-content">
          <span class="slide-number">J2A.PRE</span>
          <h1 class="slide-title">Pr√©-requis & installation</h1>
          <div class="two-col">
            <div>
              <h3>Outils</h3>
              <ul>
                <li>Docker (broker MQTT)</li>
                <li>Node.js (serveur + dashboard)</li>
                <li>PlatformIO ou Arduino IDE (ESP32)</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚úÖ CHECK</div>
                <p><code>docker compose version</code> ‚Ä¢ <code>node -v</code> ‚Ä¢ Serial Monitor</p>
              </div>
            </div>
            <div>
              <h3>Windows</h3>
              <ul>
                <li>Installer Docker Desktop</li>
                <li>WSL2 activ√©</li>
                <li>Red√©marrer si demand√©</li>
              </ul>
              <h3 style="margin-top: 1.5rem;">Linux</h3>
              <ul>
                <li>Docker Engine + plugin compose</li>
                <li>Ajouter l'utilisateur au groupe <code>docker</code></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.MQTT - Cours -->
      <div class="slide" data-day="3" data-note="COURS MQTT (5 min) ‚Äî Pub/Sub et broker : qui envoie, qui re√ßoit.">
        <div class="slide-content">
          <span class="slide-number">J2A.MQTT</span>
          <h1 class="slide-title">MQTT en 3 id√©es</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Broker central = poste de tri</li>
                <li>Clients publient et s'abonnent</li>
                <li>Topics hi√©rarchiques (ex: <code>classroom/+/telemetry</code>)</li>
              </ul>
              <div class="info-box success" style="margin-top: 1.5rem;">
                <div class="info-box-title">üéØ √Ä RETENIR</div>
                <p>On ne parle jamais en direct : tout passe par le broker.</p>
              </div>
            </div>
            <div>
              <pre><code>ESP32 ‚Üí broker ‚Üí dashboard
        ‚Üë
     commandes</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.LINK1 - Telemetry -->
      <div class="slide" data-day="3" data-note="DIALOGUE (5 min) ‚Äî Focus telemetrie : ESP32 vers UI.">
        <div class="slide-content">
          <span class="slide-number">J2A.LINK1</span>
          <h1 class="slide-title">Dialogue : t√©l√©m√©trie</h1>
          <div class="two-col">
            <div>
              <h3>Trajet</h3>
              <p>ESP32 ‚Üí MQTT ‚Üí bridge ‚Üí WebSocket ‚Üí dashboard</p>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üîó FOCUS</div>
                <p><strong>ESP32</strong> publie <code>telemetry</code> sur MQTT.</p>
              </div>
            </div>
            <div>
              <pre style="font-size: 0.9rem;"><code>// ESP32
mqttClient.publish("classroom/esp32-01/telemetry", payload);

// Bridge
broadcast({ type: "telemetry", deviceId: "esp32-01", payload });

// UI
ws.onmessage = (evt) => render(JSON.parse(evt.data));</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.LINK2 - Command -->
      <div class="slide" data-day="3" data-note="DIALOGUE (5 min) ‚Äî Focus commande : UI vers ESP32.">
        <div class="slide-content">
          <span class="slide-number">J2A.LINK2</span>
          <h1 class="slide-title">Dialogue : commande</h1>
          <div class="two-col">
            <div>
              <h3>Trajet</h3>
              <p>dashboard ‚Üí WebSocket ‚Üí bridge ‚Üí MQTT ‚Üí ESP32</p>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üîó FOCUS</div>
                <p><strong>ESP32</strong> subscribe <code>cmd</code> et renvoie <code>ack</code>.</p>
              </div>
            </div>
            <div>
              <pre style="font-size: 0.9rem;"><code>// UI
ws.send(JSON.stringify({ type: "cmd", deviceId: "esp32-01", cmd: "LED", value: 1 }));

// Bridge
mqttClient.publish("classroom/esp32-01/cmd", JSON.stringify({ cmd: "LED", value: 1 }));

// ESP32
if (cmd == "LED") publishAck("LED", true);</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C2 - Docker/Mosquitto -->
      <div class="slide" data-day="3" data-note="COURS TP2 (5 min) ‚Äî Docker Compose pour un broker local.">
        <div class="slide-content">
          <span class="slide-number">J2A.C2</span>
          <h1 class="slide-title">Docker + Mosquitto</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Un service, un port, un volume</li>
                <li>Le broker tourne en local</li>
                <li>D√©marrage en une commande</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚úÖ COMMANDES</div>
                <p><code>docker compose up -d</code> ‚Ä¢ <code>docker compose ps</code></p>
              </div>
            </div>
            <div>
              <pre><code>services:
  mqtt:
    image: eclipse-mosquitto:2
    ports:
      - "1883:1883"</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.P2 - Projet docker -->
      <div class="slide" data-day="3" data-note="PROJET docker ‚Äî Broker local pour la classe. Un point central pour publier et s'abonner.">
        <div class="slide-content">
          <span class="slide-number">J2A.P2</span>
          <h1 class="slide-title">Projet : docker/</h1>
          <div class="two-col">
            <div>
              <h3>D√©finition</h3>
              <p>Broker MQTT local (mosquitto) lanc√© en une commande.</p>
            </div>
            <div>
              <h3>Talking points</h3>
              <ul>
                <li>Point central pub/sub pour tous les devices</li>
                <li>Facile √† red√©marrer pendant la d√©mo</li>
                <li>Compatible avec MQTT Explorer</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP2 - Broker -->
      <div class="slide" data-day="3" data-note="TP 2 (45 min) ‚Äî Broker MQTT local : d√©marrer mosquitto et tester pub/sub." data-exercise="../J2-Alt/iot-live-dashboard/exercises/02-broker-mqtt.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP2</span>
          <h1 class="slide-title">TP 2 : Broker MQTT local</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>Broker local op√©rationnel</li>
                <li>Test pub/sub r√©ussi</li>
                <li>Doc de lancement rapide</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li><code>docker compose up -d</code></li>
                <li>Tester avec <code>mosquitto_pub/sub</code></li>
                <li>Noter la commande dans README</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.P3 - Projet esp32-device -->
      <div class="slide" data-day="3" data-note="PROJET esp32-device ‚Äî Source de donn√©es + r√©ception de commandes. C'est l'objet connect√©.">
        <div class="slide-content">
          <span class="slide-number">J2A.P3</span>
          <h1 class="slide-title">Projet : esp32-device/</h1>
          <div class="two-col">
            <div>
              <h3>D√©finition</h3>
              <p>ESP32 qui simule la t√©l√©m√©trie et ex√©cute les commandes.</p>
            </div>
            <div>
              <h3>Talking points</h3>
              <ul>
                <li>Wi‚ÄëFi + MQTT + reconnexion</li>
                <li>Publie <code>telemetry</code> et <code>events</code></li>
                <li>Supporte <code>LED</code> et <code>INTERVAL_MS</code></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.ESP - ESP32 vs Arduino -->
      <div class="slide" data-day="3" data-note="ESP32 vs UNO (5-7 min) ‚Äî Clarifier les diff√©rences et la connectivit√©. UNO = pas de Wi‚ÄëFi natif, ESP32 = Wi‚ÄëFi/BLE int√©gr√©s.">
        <div class="slide-content">
          <span class="slide-number">J2A.ESP</span>
          <h1 class="slide-title">ESP32 vs Arduino Uno</h1>
          <div class="two-col">
            <div>
              <h3>Arduino Uno</h3>
              <ul>
                <li>Microcontr√¥leur simple (ATmega328P)</li>
                <li>Pas de Wi‚ÄëFi/BLE natif</li>
                <li>Id√©al pour apprendre GPIO & timing</li>
              </ul>
              <h3 style="margin-top: 1.5rem;">ESP32</h3>
              <ul>
                <li>MCU 32‚Äëbit + Wi‚ÄëFi + BLE int√©gr√©s</li>
                <li>Plus de RAM/flash, multit√¢che</li>
                <li>Parfait pour objets connect√©s</li>
              </ul>
            </div>
            <div>
              <h3>Connexion Wi‚ÄëFi</h3>
              <ul>
                <li>Mode <strong>STA</strong> : se connecte √† un routeur</li>
                <li>Mode <strong>AP</strong> : cr√©e son propre Wi‚ÄëFi</li>
                <li>Mode <strong>AP+STA</strong> : les deux</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üì° CONNECTIVIT√â</div>
                <ul style="margin: 0;">
                  <li>Wi‚ÄëFi 2.4 GHz (802.11 b/g/n)</li>
                  <li>Bluetooth Classic + BLE</li>
                  <li>UART / I2C / SPI pour capteurs</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.WIFI - Connexion Wi-Fi -->
      <div class="slide" data-day="3" data-note="WIFI (5 min) ‚Äî Montrer le code minimum pour connecter l'ESP32.">
        <div class="slide-content">
          <span class="slide-number">J2A.WIFI</span>
          <h1 class="slide-title">ESP32 : connexion Wi‚ÄëFi</h1>
          <div class="two-col">
            <div>
              <h3>√âtapes</h3>
              <ol>
                <li>Renseigner SSID + mot de passe</li>
                <li>Passer en mode <code>WIFI_STA</code></li>
                <li>Attendre <code>WL_CONNECTED</code></li>
                <li>Afficher l'IP</li>
              </ol>
              <div class="info-box warning" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚ö†Ô∏è PI√àGES</div>
                <p>ESP32 = Wi‚ÄëFi 2.4 GHz uniquement ‚Ä¢ SSID sensible √† la casse</p>
              </div>
            </div>
            <div>
              <pre><code><span class="type">const char*</span> ssid = <span class="string">"WIFI_SSID"</span>;
<span class="type">const char*</span> pass = <span class="string">"WIFI_PASS"</span>;

WiFi.mode(WIFI_STA);
WiFi.begin(ssid, pass);
while (WiFi.status() != WL_CONNECTED) {
  delay(300);
}
Serial.println(WiFi.localIP());</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C3 - MQTT ESP32 -->
      <div class="slide" data-day="3" data-note="COURS TP3 (5 min) ‚Äî Connexion MQTT minimale sur ESP32.">
        <div class="slide-content">
          <span class="slide-number">J2A.C3</span>
          <h1 class="slide-title">ESP32 : MQTT minimal</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Client MQTT connect√© au broker</li>
                <li>Publication de <code>telemetry</code></li>
                <li>Subscription sur <code>cmd</code></li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üîÅ BOUCLE</div>
                <p><code>connect</code> ‚Üí <code>subscribe</code> ‚Üí <code>publish</code></p>
              </div>
            </div>
            <div>
              <pre><code>mqttClient.setServer(MQTT_HOST, 1883);
if (mqttClient.connect("esp32-01")) {
  mqttClient.subscribe("classroom/esp32-01/cmd");
  mqttClient.publish("classroom/esp32-01/telemetry", payload);
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP3 - ESP32 base -->
      <div class="slide" data-day="3" data-note="TP 3 (60 min) ‚Äî ESP32 : Wi‚ÄëFi + MQTT + t√©l√©m√©trie r√©guli√®re." data-exercise="../J2-Alt/iot-live-dashboard/exercises/03-esp32-wifi-mqtt.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP3</span>
          <h1 class="slide-title">TP 3 : ESP32 (Wi‚ÄëFi + MQTT + t√©l√©m√©trie)</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>Connexion Wi‚ÄëFi stable</li>
                <li>Connexion MQTT + reconnect</li>
                <li>Publier <code>telemetry</code> toutes les 1s</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li>Configurer SSID / broker</li>
                <li>Publier JSON avec <code>seq</code></li>
                <li>V√©rifier avec <code>mosquitto_sub</code></li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C4 - Simulation -->
      <div class="slide" data-day="3" data-note="COURS TP4 (5 min) ‚Äî Simulation + events + LWT.">
        <div class="slide-content">
          <span class="slide-number">J2A.C4</span>
          <h1 class="slide-title">Simulation + events + LWT</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Courbes lentes + bruit l√©ger</li>
                <li>Event <code>boot</code> au d√©marrage</li>
                <li>LWT = offline automatique</li>
              </ul>
              <div class="info-box warning" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚ö†Ô∏è POINT CL√â</div>
                <p>LWT se configure au moment du <code>connect()</code>.</p>
              </div>
            </div>
            <div>
              <pre><code>float tempC = 22 + 2 * sin(t / 12.0);
publishEvent("boot");
client.connect(id, nullptr, nullptr,
  statusTopic, 1, true, offlinePayload);</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP4 - Simulation -->
      <div class="slide" data-day="3" data-note="TP 4 (60 min) ‚Äî Simulation r√©aliste + events + LWT." data-exercise="../J2-Alt/iot-live-dashboard/exercises/04-esp32-simulation-events.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP4</span>
          <h1 class="slide-title">TP 4 : Simulation r√©aliste + events + LWT</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>Temp√©rature/humidit√© cr√©dibles</li>
                <li>Event <code>boot</code> + <code>ack</code></li>
                <li>D√©tection <code>offline</code> via LWT</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li>Ajouter sinuso√Øde + bruit</li>
                <li>Publier <code>events</code></li>
                <li>Configurer le Last Will</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.P4 - Projet server-bridge -->
      <div class="slide" data-day="3" data-note="PROJET server-bridge ‚Äî Convertit MQTT en WS et renvoie les commandes.">
        <div class="slide-content">
          <span class="slide-number">J2A.P4</span>
          <h1 class="slide-title">Projet : server-bridge/</h1>
          <div class="two-col">
            <div>
              <h3>D√©finition</h3>
              <p>Passerelle Node.js MQTT ‚Üí WebSocket + routage des commandes.</p>
            </div>
            <div>
              <h3>Talking points</h3>
              <ul>
                <li>Multi-clients WS en parall√®le</li>
                <li>Cache du dernier √©tat par device</li>
                <li>Transforme les messages pour l'UI</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.WS - Cours WebSocket -->
      <div class="slide" data-day="3" data-note="COURS WS (5 min) ‚Äî WebSocket = canal temps r√©el entre serveur et navigateur.">
        <div class="slide-content">
          <span class="slide-number">J2A.WS</span>
          <h1 class="slide-title">WebSocket en bref</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Connexion persistante et bidirectionnelle</li>
                <li>Bas√©e sur un upgrade HTTP</li>
                <li>Id√©ale pour le temps r√©el</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üîÅ FLUX</div>
                <p>MQTT ‚Üí bridge ‚Üí WebSocket ‚Üí navigateur</p>
              </div>
            </div>
            <div>
              <h3>Exemple de message</h3>
              <pre><code>{
  "type": "telemetry",
  "deviceId": "esp32-01",
  "payload": { "tempC": 22.4 }
}</code></pre>
              <h3 style="margin-top: 1.5rem;">Serveur WS (extrait)</h3>
              <pre><code>const wss = new WebSocketServer({ server, path: "/ws" });
wss.on("connection", (ws) => ws.send("hello"));</code></pre>
              <div class="info-box warning" style="margin-top: 1rem;">
                <div class="info-box-title">‚ö†Ô∏è POINT CL√â</div>
                <p>Le chemin WS est fixe (ex: <code>/ws</code>).</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C5 - Bridge -->
      <div class="slide" data-day="3" data-note="COURS TP5 (5 min) ‚Äî Le bridge convertit MQTT en WS.">
        <div class="slide-content">
          <span class="slide-number">J2A.C5</span>
          <h1 class="slide-title">Bridge MQTT ‚Üí WebSocket</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Subscribe sur <code>telemetry</code> et <code>events</code></li>
                <li>Transforme en JSON pour le front</li>
                <li>Broadcast vers tous les clients</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üîÅ FLUX</div>
                <p>MQTT in ‚Üí WS out</p>
              </div>
            </div>
            <div>
              <pre><code>mqttClient.on("message", (topic, msg) => {
  const payload = JSON.parse(msg);
  broadcast({ type: "telemetry", payload });
});</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP5 - Bridge -->
      <div class="slide" data-day="3" data-note="TP 5 (60 min) ‚Äî Serveur bridge MQTT ‚Üí WebSocket." data-exercise="../J2-Alt/iot-live-dashboard/exercises/05-server-bridge.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP5</span>
          <h1 class="slide-title">TP 5 : Serveur bridge MQTT ‚Üí WebSocket</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>Recevoir MQTT et diffuser en WS</li>
                <li>Support multi-clients</li>
                <li>Cache du dernier √©tat</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li>Subscribe sur <code>telemetry</code> + <code>events</code></li>
                <li>Ouvrir <code>ws://localhost:8080/ws</code></li>
                <li>Broadcast JSON vers les clients</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.P5 - Projet web-dashboard -->
      <div class="slide" data-day="3" data-note="PROJET web-dashboard ‚Äî Affiche le temps r√©el et envoie les commandes.">
        <div class="slide-content">
          <span class="slide-number">J2A.P5</span>
          <h1 class="slide-title">Projet : web-dashboard/</h1>
          <div class="two-col">
            <div>
              <h3>D√©finition</h3>
              <p>Interface temps r√©el : valeurs live + contr√¥le simple.</p>
            </div>
            <div>
              <h3>Talking points</h3>
              <ul>
                <li>Statut Connected/Disconnected</li>
                <li>Liste des devices + derni√®res valeurs</li>
                <li>Boutons LED + intervalle</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C6 - Client WebSocket -->
      <div class="slide" data-day="3" data-note="COURS TP6 (5 min) ‚Äî Client WebSocket minimal dans le navigateur.">
        <div class="slide-content">
          <span class="slide-number">J2A.C6</span>
          <h1 class="slide-title">Client WebSocket (front)</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Connexion persistante</li>
                <li>OnMessage = rendu UI</li>
                <li>Auto-reconnect simple</li>
              </ul>
              <div class="info-box" style="margin-top: 1.5rem;">
                <div class="info-box-title">üéØ UI</div>
                <p>Un device = une carte UI.</p>
              </div>
            </div>
            <div>
              <pre><code>const ws = new WebSocket("ws://localhost:8080/ws");
ws.onmessage = (evt) => {
  const msg = JSON.parse(evt.data);
  render(msg);
};</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP6 - Front -->
      <div class="slide" data-day="3" data-note="TP 6 (60 min) ‚Äî Front-end live : dashboard + √©tat connexion." data-exercise="../J2-Alt/iot-live-dashboard/exercises/06-frontend-live.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP6</span>
          <h1 class="slide-title">TP 6 : Front-end live</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>Connexion WebSocket</li>
                <li>Affichage par device</li>
                <li>Statut Connected/Disconnected</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li>Se connecter au WS</li>
                <li>Rendre la liste des devices</li>
                <li>Mettre √† jour les valeurs</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C7 - Commandes -->
      <div class="slide" data-day="3" data-note="COURS TP7 (5 min) ‚Äî Commandes + ACK sur le flux.">
        <div class="slide-content">
          <span class="slide-number">J2A.C7</span>
          <h1 class="slide-title">Commandes + ACK</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>Le front envoie un <code>cmd</code> via WS</li>
                <li>Le bridge publie sur MQTT</li>
                <li>L'ESP32 renvoie un <code>ack</code></li>
              </ul>
              <div class="info-box success" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚úÖ R√àGLE</div>
                <p>Un <code>cmd</code> = un <code>ack</code>.</p>
              </div>
            </div>
            <div>
              <pre><code>// UI
ws.send(JSON.stringify({ type: "cmd", deviceId: "esp32-01", cmd: "LED", value: 1 }));

// ESP32
if (cmd == "LED") publishAck("LED", true);</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP7 - Commandes -->
      <div class="slide" data-day="3" data-note="TP 7 (75 min) ‚Äî Commandes bout en bout + ACK." data-exercise="../J2-Alt/iot-live-dashboard/exercises/07-commandes.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP7</span>
          <h1 class="slide-title">TP 7 : Commandes bout en bout</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>LED ON/OFF depuis le web</li>
                <li>Intervalle r√©glable</li>
                <li>ACK visible c√¥t√© UI</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li>Front ‚Üí WS : <code>cmd</code></li>
                <li>Bridge ‚Üí MQTT : <code>classroom/&lt;id&gt;/cmd</code></li>
                <li>ESP32 ‚Üí events : <code>ack</code></li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.C8 - Robustesse -->
      <div class="slide" data-day="3" data-note="COURS TP8 (5 min) ‚Äî Reconnexion et stabilit√©.">
        <div class="slide-content">
          <span class="slide-number">J2A.C8</span>
          <h1 class="slide-title">Robustesse : reconnexion</h1>
          <div class="two-col">
            <div>
              <ul>
                <li>D√©tecter la coupure</li>
                <li>Re-tenter avec backoff</li>
                <li>Garder l'UI stable</li>
              </ul>
              <div class="info-box warning" style="margin-top: 1.5rem;">
                <div class="info-box-title">‚öôÔ∏è PATTERN</div>
                <p>2s ‚Üí 4s ‚Üí 8s ‚Üí plafond</p>
              </div>
            </div>
            <div>
              <pre><code>if (!connected) {
  delay = min(delay * 2, 8000);
  reconnect();
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- J2A.TP8 - Robustesse -->
      <div class="slide" data-day="3" data-note="TP 8 (45 min) ‚Äî Robustesse et d√©mo finale." data-exercise="../J2-Alt/iot-live-dashboard/exercises/08-robustesse-demo.md">
        <div class="slide-content">
          <span class="slide-number">J2A.TP8</span>
          <h1 class="slide-title">TP 8 : Robustesse & d√©mo finale</h1>
          <div class="two-col">
            <div>
              <h3>Consignes</h3>
              <ul>
                <li>Reconnexion auto partout</li>
                <li>Gestion WS ping/pong</li>
                <li>D√©mo stable en 3 minutes</li>
              </ul>
            </div>
            <div>
              <h3>Walkthrough</h3>
              <ol>
                <li>Backoff c√¥t√© ESP32 + serveur</li>
                <li>Auto-reconnect c√¥t√© UI</li>
                <li>Script de d√©mo pas √† pas</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Speaker notes panel -->
  <div class="speaker-notes" id="speakerNotes">
    <div class="speaker-notes-content">
      <div class="speaker-notes-title">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
        </svg>
        NOTES ORATEUR
      </div>
      <p class="speaker-notes-text" id="notesText">Aucune note pour cette slide.</p>
    </div>
  </div>

  <!-- TP panel -->
  <div class="tp-panel" id="tpPanel">
    <div class="tp-panel-content">
      <div class="tp-panel-header">
        <span>TP ‚Äî √âNONC√â</span>
        <div class="tp-panel-actions">
          <a href="#" id="tpOpenLink" target="_blank" rel="noopener noreferrer">ouvrir</a>
        </div>
      </div>
      <div class="tp-panel-body" id="tpPanelBody">
        <p class="tp-panel-empty">Aucun √©nonc√© pour cette slide.</p>
      </div>
    </div>
  </div>

  <!-- Progress bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- Navigation arrows -->
  <div class="nav-arrows">
    <button class="nav-arrow" id="prevBtn" title="Slide pr√©c√©dente (‚Üê)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    <button class="nav-arrow" id="nextBtn" title="Slide suivante (‚Üí)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>
  </div>

  <!-- Slide counter -->
  <div class="slide-counter">
    <span class="current" id="currentSlide">1</span> / <span id="totalSlides">32</span>
  </div>

  <!-- Keyboard hint -->
  <div class="keyboard-hint">
    <span class="key">‚Üê</span><span class="key">‚Üí</span> naviguer
    <span class="key">N</span> notes
    <span class="key">F</span> plein √©cran
    <span class="key">T</span> TP
    <span class="key">A</span> aide
  </div>

  <script>
    // State
    let currentDay = 1;
    let currentSlideIndex = 0;
    let notesVisible = false;
    let tpVisible = false;
    let assistMode = false;
    let currentExercisePath = '';
    const exerciseCache = new Map();
    let slides = [];
    let filteredSlides = [];

    // DOM elements
    const slidesWrapper = document.getElementById('slidesWrapper');
    const dayBtns = document.querySelectorAll('.day-btn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const notesBtn = document.getElementById('notesBtn');
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    const menuBtn = document.getElementById('menuBtn');
    const slideMenu = document.getElementById('slideMenu');
    const speakerNotes = document.getElementById('speakerNotes');
    const notesText = document.getElementById('notesText');
    const progressBar = document.getElementById('progressBar');
    const currentSlideEl = document.getElementById('currentSlide');
    const totalSlidesEl = document.getElementById('totalSlides');
    const tpBtn = document.getElementById('tpBtn');
    const assistBtn = document.getElementById('assistBtn');
    const tpPanel = document.getElementById('tpPanel');
    const tpPanelBody = document.getElementById('tpPanelBody');
    const tpOpenLink = document.getElementById('tpOpenLink');

    // Initialize
    function init() {
      slides = Array.from(document.querySelectorAll('.slide'));
      filterSlidesByDay(currentDay);
      updateSlide();
      buildSlideMenu();
    }

    // Filter slides by day
    function filterSlidesByDay(day) {
      currentDay = day;
      filteredSlides = slides.filter(s => parseInt(s.dataset.day) === day);
      currentSlideIndex = 0;

      // Update day buttons
      dayBtns.forEach(btn => {
        btn.classList.toggle('active', parseInt(btn.dataset.day) === day);
      });

      // Hide all slides first
      slides.forEach(s => {
        s.classList.remove('active', 'prev');
      });

      buildSlideMenu();
      updateSlide();
    }

    // Build slide menu
    function buildSlideMenu() {
      slideMenu.innerHTML = '';
      filteredSlides.forEach((slide, index) => {
        const number = slide.querySelector('.slide-number')?.textContent || '';
        const title = slide.querySelector('.slide-title')?.textContent?.substring(0, 40) || '';

        const item = document.createElement('div');
        item.className = 'slide-menu-item' + (index === currentSlideIndex ? ' active' : '');
        item.innerHTML = `<span class="slide-menu-number">${number}</span>${title}`;
        item.addEventListener('click', () => {
          goToSlide(index);
          slideMenu.classList.remove('visible');
        });
        slideMenu.appendChild(item);
      });
    }

    // Update current slide
    function updateSlide() {
      // Update all slides
      filteredSlides.forEach((slide, index) => {
        slide.classList.remove('active', 'prev');
        if (index === currentSlideIndex) {
          slide.classList.add('active');
        } else if (index < currentSlideIndex) {
          slide.classList.add('prev');
        }
      });

      // Update notes
      const currentSlide = filteredSlides[currentSlideIndex];
      const note = currentSlide?.dataset.note || '';
      notesText.textContent = note || 'Aucune note pour cette slide.';

      // Update progress
      const progress = ((currentSlideIndex + 1) / filteredSlides.length) * 100;
      progressBar.style.width = `${progress}%`;

      // Update counter
      currentSlideEl.textContent = currentSlideIndex + 1;
      totalSlidesEl.textContent = filteredSlides.length;

      // Update nav buttons
      prevBtn.disabled = currentSlideIndex === 0;
      nextBtn.disabled = currentSlideIndex === filteredSlides.length - 1;

      // Update menu active state
      document.querySelectorAll('.slide-menu-item').forEach((item, i) => {
        item.classList.toggle('active', i === currentSlideIndex);
      });

      updateTpPanelAvailability();
    }

    // Navigation
    function nextSlide() {
      if (currentSlideIndex < filteredSlides.length - 1) {
        currentSlideIndex++;
        updateSlide();
      }
    }

    function prevSlide() {
      if (currentSlideIndex > 0) {
        currentSlideIndex--;
        updateSlide();
      }
    }

    function goToSlide(index) {
      if (index >= 0 && index < filteredSlides.length) {
        currentSlideIndex = index;
        updateSlide();
      }
    }

    // Toggle notes
    function toggleNotes() {
      notesVisible = !notesVisible;
      speakerNotes.classList.toggle('visible', notesVisible);
      notesBtn.classList.toggle('active', notesVisible);
    }

    function setTpVisible(visible) {
      tpVisible = visible;
      tpPanel.classList.toggle('visible', tpVisible);
      tpBtn.classList.toggle('active', tpVisible);

      if (tpVisible && notesVisible) {
        notesVisible = false;
        speakerNotes.classList.remove('visible');
        notesBtn.classList.remove('active');
      }
    }

    function toggleTp() {
      const currentSlide = filteredSlides[currentSlideIndex];
      if (!currentSlide?.dataset.exercise) {
        return;
      }
      setTpVisible(!tpVisible);
      if (tpVisible) {
        loadExerciseForSlide(currentSlide);
      }
    }

    function toggleAssist() {
      const currentSlide = filteredSlides[currentSlideIndex];
      if (!currentSlide?.dataset.exercise) {
        return;
      }
      assistMode = !assistMode;
      assistBtn.classList.toggle('active', assistMode);
      if (tpVisible) {
        loadExerciseForSlide(currentSlide);
      }
    }

    function stripAssistSection(markdown) {
      const lines = markdown.split('\n');
      const output = [];
      let skip = false;

      for (const line of lines) {
        if (/^##\s*(Aide|Assistance)\b/i.test(line)) {
          skip = true;
          continue;
        }

        if (skip && /^#{1,6}\s+/.test(line)) {
          skip = false;
        }

        if (skip) {
          continue;
        }

        output.push(line);
      }

      return output.join('\n');
    }

    function escapeHtml(text) {
      return text
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    function renderMarkdown(markdown) {
      const lines = markdown.split('\n');
      let html = '';
      let inCode = false;
      let listType = null;

      const closeList = () => {
        if (listType) {
          html += `</${listType}>`;
          listType = null;
        }
      };

      for (const line of lines) {
        if (line.trim().startsWith('```')) {
          if (inCode) {
            html += '</code></pre>';
            inCode = false;
          } else {
            closeList();
            html += '<pre><code>';
            inCode = true;
          }
          continue;
        }

        if (inCode) {
          html += `${escapeHtml(line)}\n`;
          continue;
        }

        if (line.trim() === '') {
          closeList();
          continue;
        }

        const headingMatch = line.match(/^(#{1,3})\s+(.*)$/);
        if (headingMatch) {
          closeList();
          const level = headingMatch[1].length;
          const tag = level <= 2 ? 'h3' : 'h4';
          html += `<${tag}>${escapeHtml(headingMatch[2])}</${tag}>`;
          continue;
        }

        const orderedMatch = line.match(/^\d+\.\s+(.*)$/);
        if (orderedMatch) {
          if (listType !== 'ol') {
            closeList();
            listType = 'ol';
            html += '<ol>';
          }
          html += `<li>${escapeHtml(orderedMatch[1])}</li>`;
          continue;
        }

        const bulletMatch = line.match(/^-\\s+(.*)$/);
        if (bulletMatch) {
          if (listType !== 'ul') {
            closeList();
            listType = 'ul';
            html += '<ul>';
          }
          html += `<li>${escapeHtml(bulletMatch[1])}</li>`;
          continue;
        }

        closeList();
        html += `<p>${escapeHtml(line)}</p>`;
      }

      closeList();

      if (inCode) {
        html += '</code></pre>';
      }

      return html;
    }

    function renderExercise(markdown) {
      const content = assistMode ? markdown : stripAssistSection(markdown);
      tpPanelBody.innerHTML = renderMarkdown(content);
    }

    function loadExerciseForSlide(slide) {
      const exercisePath = slide?.dataset.exercise || '';
      if (!exercisePath) {
        tpPanelBody.innerHTML = '<p class="tp-panel-empty">Aucun √©nonc√© pour cette slide.</p>';
        tpOpenLink.href = '#';
        return;
      }

      currentExercisePath = exercisePath;
      const exerciseUrl = new URL(exercisePath, window.location.href).toString();
      tpOpenLink.href = exerciseUrl;

      const cached = exerciseCache.get(exercisePath);
      if (cached) {
        renderExercise(cached);
        return;
      }

      tpPanelBody.innerHTML = '<p class="tp-panel-empty">Chargement...</p>';
      fetch(exerciseUrl)
        .then((response) => {
          if (!response.ok) {
            throw new Error('not found');
          }
          return response.text();
        })
        .then((text) => {
          exerciseCache.set(exercisePath, text);
          renderExercise(text);
        })
        .catch(() => {
          tpPanelBody.innerHTML = '<p class="tp-panel-empty">√ânonc√© introuvable.</p>';
        });
    }

    function updateTpPanelAvailability() {
      const currentSlide = filteredSlides[currentSlideIndex];
      const exercisePath = currentSlide?.dataset.exercise;
      const hasExercise = !!exercisePath;

      tpBtn.disabled = !hasExercise;
      assistBtn.disabled = !hasExercise;
      assistBtn.classList.toggle('active', assistMode && hasExercise);

      if (!hasExercise) {
        setTpVisible(false);
        return;
      }

      if (tpVisible && exercisePath !== currentExercisePath) {
        loadExerciseForSlide(currentSlide);
      }
    }

    // Toggle fullscreen
    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
        fullscreenBtn.classList.add('active');
      } else {
        document.exitFullscreen();
        fullscreenBtn.classList.remove('active');
      }
    }

    // Event listeners
    dayBtns.forEach(btn => {
      btn.addEventListener('click', () => filterSlidesByDay(parseInt(btn.dataset.day)));
    });

    prevBtn.addEventListener('click', prevSlide);
    nextBtn.addEventListener('click', nextSlide);
    notesBtn.addEventListener('click', toggleNotes);
    fullscreenBtn.addEventListener('click', toggleFullscreen);
    tpBtn.addEventListener('click', toggleTp);
    assistBtn.addEventListener('click', toggleAssist);

    menuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      slideMenu.classList.toggle('visible');
    });

    document.addEventListener('click', (e) => {
      if (!slideMenu.contains(e.target) && e.target !== menuBtn) {
        slideMenu.classList.remove('visible');
      }
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      switch(e.key) {
        case 'ArrowRight':
        case 'ArrowDown':
        case ' ':
          e.preventDefault();
          nextSlide();
          break;
        case 'ArrowLeft':
        case 'ArrowUp':
          e.preventDefault();
          prevSlide();
          break;
        case 'n':
        case 'N':
          toggleNotes();
          break;
        case 'f':
        case 'F':
          toggleFullscreen();
          break;
        case 't':
        case 'T':
          toggleTp();
          break;
        case 'a':
        case 'A':
          toggleAssist();
          break;
        case 'Escape':
          slideMenu.classList.remove('visible');
          break;
        case '1':
          filterSlidesByDay(1);
          break;
        case '2':
          filterSlidesByDay(2);
          break;
        case '3':
          filterSlidesByDay(3);
          break;
      }
    });

    // Touch support
    let touchStartX = 0;
    let touchEndX = 0;

    slidesWrapper.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    }, { passive: true });

    slidesWrapper.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      const diff = touchStartX - touchEndX;
      if (Math.abs(diff) > 50) {
        if (diff > 0) nextSlide();
        else prevSlide();
      }
    }, { passive: true });

    // Fullscreen change handler
    document.addEventListener('fullscreenchange', () => {
      fullscreenBtn.classList.toggle('active', !!document.fullscreenElement);
    });

    // Initialize
    init();
  </script>
</body>
</html>
